00002752 Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 18/01/2024 12:22:02

00000000                             1  ; ==============================================================================
00000000                             2  ; TITLE     :
00000000                             3  ; AUTHOR    :
00000000                             4  ; DSCRPTN   :
00000000                             5  ; HISTORY   :
00000000                             6  ; ==============================================================================
00000000                             7      
00001000                             8              ORG     $1000
00001000                             9              
00001000                            10              INCLUDE "CONST.X68"
00001000                            11  ; ==============================================================================
00001000                            12  ; GAME CONSTANTS
00001000                            13  ; ==============================================================================
00001000                            14      
00001000                            15  ; --- SHIP RELATED CONSTANTS ---------------------------------------------------
00001000                            16  
00001000  =00000064                 17  SHPWIDTH    EQU     100                 ; SHIP WIDTH 
00001000  =00000014                 18  SHPHEIGH    EQU     20                  ; SHIP HEIGHT 
00001000  =000001AE                 19  SHPPOSY     EQU     430                 ; SHIP Y COORDINATE
00001000  =00D3D3D3                 20  SHPPCOL     EQU     $00D3D3D3           ; SHIP CONTOUR COLOR
00001000  =00D3D3D3                 21  SHPFCOL     EQU     $00D3D3D3           ; SHIP FILL COLOR
00001000  =0000000A                 22  SHPSPEED    EQU     10                  ; MAGNITUDE OF THE X DISPLACEMENT
00001000                            23  
00001000                            24  ; --- INTRO SHIP RELATED CONSTANTS ---------------------------------------------
00001000                            25  
00001000  =0000012C                 26  ISHWIDTH    EQU     300                 ; INTRO SHIP WIDTH
00001000  =0000003C                 27  ISHHEIGH    EQU     60                  ; INTRO SHIP HEIGHT
00001000  =00000140                 28  ISHPOSX     EQU     320                 ; INTRO SHIP X COORDINATE
00001000  =000000FA                 29  ISHPOSY     EQU     250                 ; INTRO SHIP Y COORDINATE
00001000  =00D3D3D3                 30  ISHPCOL     EQU     $00D3D3D3           ; INTRO SHIP CONTOUR COLOR
00001000  =00D3D3D3                 31  ISHFCOL     EQU     $00D3D3D3           ; INTRO SHIP FILL COLOR
00001000                            32  
00001000                            33  ; --- SHOT RELATED CONSTANTS ---------------------------------------------------
00001000                            34  
00001000  =00000001                 35  SHTWIDTH    EQU     1                   ; SHOT WIDTH
00001000  =00000007                 36  SHTHEIGH    EQU     7                   ; SHOT HEIGHT
00001000  =00000003                 37  SHTSPEED    EQU     3                   ; MAGNITUDE OF THE Y DISPLACEMENT
00001000  =0000FFFF                 38  SHTPCOL     EQU     $0000FFFF           ; SHOT CONTOUR COLOR
00001000  =0000FFFF                 39  SHTFCOL     EQU     $0000FFFF           ; SHOT FILL COLOR
00001000                            40  
00001000                            41  ; --- EXPLOSION RELATED CONSTANTS ----------------------------------------------
00001000                            42  
00001000  =0000000F                 43  EXPMXRAD    EQU     15                  ; EXPLOSION MAXIMUM RADIUS
00001000  =000011FF                 44  EXPPCOL     EQU     $000011FF           ; EXPLOSION CONTOUR COLOR
00001000  =000011FF                 45  EXPFCOL     EQU     $000011FF           ; EXPLOSION FILL COLOR
00001000  =000066FF                 46  LEXPFCOL    EQU     $000066FF           ; LITTLE EXPLOSION FILL COLOR
00001000                            47  
00001000                            48  ; --- LIMIT LINE RELATED CONSTANTS ---------------------------------------------
00001000                            49  
00001000  =00000280                 50  LIMWIDTH    EQU     640                 ; LIMIT LINE WIDTH
00001000  =00000001                 51  LIMHEIGH    EQU     1                   ; LIMIT LINE HEIGHT
00001000  =00000000                 52  LIMPOSX     EQU     0                   ; LIMIT LINE X COORDINATE
00001000  =00000190                 53  LIMPOSY     EQU     400                 ; LIMIT LINE Y COORDINATE
00001000  =000000FF                 54  LIMPCOL     EQU     $000000FF           ; LIMIT LINE CONTOUR COLOR
00001000                            55  
00001000                            56  ; --- ATTRACT MODE RELATED CONSTANTS -------------------------------------------
00001000                            57  
00001000  =00000000                 58  ATRSAVE     EQU     0                   ; SET TO 1 TO RECORD GAME
00001000                            59  
00001000                            60  ; --- AGENTS RELATED CONSTANTS -------------------------------------------------
00001000                            61  
00001000  =00000001                 62  SHTAGN      EQU     1                   ; SHOT AGENT NUMBER
00001000  =00000002                 63  ESHAGN      EQU     2                   ; ENEMY SHOT AGENT NUMBER
00001000  =00000003                 64  ENEAGN      EQU     3                   ; ENEMY SHIP AGENT NUMBER
00001000  =00000004                 65  EXPAGN      EQU     4                   ; EXPLOSION AGENT NUMBER
00001000                            66  
00001000                            67  ; --- ENEMIES RELATED CONSTANTS ------------------------------------------------
00001000                            68  
00001000  =00000032                 69  ENEWIDTH    EQU     50                  ; ENEMY WIDTH
00001000  =0000000A                 70  ENEHEIGH    EQU     10                  ; ENEMY HEIGHT
00001000  =00000003                 71  ENEHSPD     EQU     3                   ; FIRST ROW ENEMY SPEED
00001000  =00000001                 72  ENEDSPD     EQU     1                   ; ENEMIES DOWN SPEED
00001000  =00EEEEEE                 73  ENEPCOL     EQU     $00EEEEEE           ; ENEMY CONTOUR COLOR
00001000  =00EEEEEE                 74  ENEFCOL     EQU     $00EEEEEE           ; ENEMY FILL COLOR
00001000                            75  
00001000                            76  ; --- SCENARY RELATED CONSTANTS ------------------------------------------------
00001000                            77  
00001000  =00888888                 78  SCEPCOL     EQU     $00888888           ; SCENARY STARS CONTOUR COLOR
00001000  =00000032                 79  SCENMB      EQU     50                  ; SCENARY NUMBER OF STARS
00001000                            80  
00001000                            81  ; --- SCOREBOARD RELATED CONSTANTS ---------------------------------------------
00001000                            82  
00001000  =00000000                 83  SCOFCOL     EQU     $00000000           ; TEXT BACKGROUND COLOR
00001000  =00000101                 84  SCOLINE1    EQU     $0101               ; FIRST TEXT LINE COORDINATES
00001000  =00000102                 85  SCOLINE2    EQU     $0102               ; SECOND TEXT LINE COORDINATES
00001000                            86  
00001000                            87  ; --- SPAWNER RELATED CONSTANTS ------------------------------------------------
00001000                            88  
00001000  =0000007F                 89  SPWMSKFL    EQU     %01111111           ; SPAWNER MASK FOR FIRST LEVEL
00001000  =0000003F                 90  SPWMSKSL    EQU     %00111111           ; SPAWNER MASK FOR SECOND LEVEL
00001000  =0000001F                 91  SPWMSKTL    EQU     %00011111           ; SPAWNER MASK FOR THIRD LEVEL
00001000                            92  
00001000                            93  ; --- STATE RELATED CONSTANTS --------------------------------------------------
00001000                            94  
00001000  =FFFFFFFF                 95  STANONE     EQU     -1                  ; NON-EXISTENT STATE NUMBER
00001000  =00000000                 96  STAISC      EQU     0                   ; INTRO SCREEN STATE NUMBER
00001000  =00000001                 97  STAINS      EQU     1                   ; INSTRUCTIONS SCREEN STATE NUMBER
00001000  =00000002                 98  STAGAM      EQU     2                   ; GAME SCREEN STATE NUMBER
00001000  =00000003                 99  STAWIN      EQU     3                   ; WIN SCREEN STATE NUMBER
00001000  =00000004                100  STAGOV1     EQU     4                   ; GAME OVER 1 SCREEN STATE NUMBER
00001000  =00000005                101  STAGOV2     EQU     5                   ; GAME OVER 2 SCREEN STATE NUMBER
00001000  =00000006                102  STAATR      EQU     6                   ; ATTRACT MODE STATE NUMBER
00001000  =000001F4                103  ISCMAXTM    EQU     500                 ; INTRO SCREEN WAITING CYCLES
00001000  =00000190                104  INSMAXTM    EQU     400                 ; INSTRUCTIONS SCREEN WAITING CYCLES
00001000                           105  
00001000                           106  ; --- VICTORY/DEFEAT RELATED CONSTANTS -----------------------------------------
00001000                           107  
00001000  =0000000A                108  SCODSTSL    EQU     10                  ; NUMBER OF SHIPS DESTROYED TO SECOND LEVEL
00001000  =00000014                109  SCODSTTL    EQU     20                  ; NUMBER OF SHIPS DESTROYED TO THIRD LEVEL
00001000  =0000001E                110  SCODSTMX    EQU     30                  ; NUMBER OF SHIPS DESTROYED TO VICTORY
00001000  =0000000A                111  SCOHITMX    EQU     10                  ; NUMBER OF TIMES YOU CAN BE HIT
00001000  =00000001                112  SCOENEMX    EQU     1                   ; NUMBER OF ENEMIES THAT CAN CROSS L.LINE
00001000                           113  
00001000                           114  
00001000                           115  
00001000                           116  
00001000                           117  
00001000                           118  -------------------- end include --------------------
00001000                           119              INCLUDE "SYSCONST.X68"
00001000                           120  ; ==============================================================================
00001000                           121  ; SYSTEM CONSTANTS
00001000                           122  ; ==============================================================================
00001000                           123      
00001000                           124  ; --- SCREEN RELATED CONSTANTS -------------------------------------------------
00001000                           125  
00001000  =00000280                126  SCRWIDTH    EQU     640                 ; SCREEN WIDTH
00001000  =000001E0                127  SCRHEIGH    EQU     480                 ; SCREEN HEIGHT
00001000  =00000032                128  SCRFPS      EQU     50                  ; SCREEN FRAMES PER SECOND
00001000                           129  
00001000                           130  ; --- KEYCODES -----------------------------------------------------------------
00001000                           131  
00001000  =00000025                132  KBDLEFT     EQU     $25
00001000  =00000026                133  KBDUP       EQU     $26
00001000  =00000027                134  KBDRIGHT    EQU     $27
00001000  =00000028                135  KBDDOWN     EQU     $28
00001000  =00000020                136  KBDFIRE1    EQU     ' '
00001000  =0000004D                137  KBDFIRE2    EQU     'M'
00001000  =00000010                138  KBDFIRE3    EQU     $10
00001000  =00000050                139  KBDPAUSE    EQU     'P'
00001000                           140  
00001000                           141  ; --- TRAP NUMBERS -------------------------------------------------------------
00001000                           142  
00001000  =00000000                143  SCRUPTN     EQU     0                   ; SCREEN UPDATE TRAP NUMBER
00001000  =00000001                144  KBDUPTN     EQU     1                   ; KEYBOARD UPDATE TRAP NUMBER
00001000                           145  
00001000                           146  ; --- INTERRUPT NUMBERS --------------------------------------------------------
00001000                           147  
00001000  =00000001                148  SCRINTN     EQU     1                   ; TIMED INTERRUPT NUMBER
00001000                           149  
00001000                           150  
00001000                           151  
00001000                           152  -------------------- end include --------------------
00001000                           153              INCLUDE "LIB/DMMCONST.X68"
00001000                           154  ; =============================================================================
00001000                           155  ; DYNAMIC MEMORY MANAGEMENT CONSTANTS (SYSTEM CONSTANTS)
00001000                           156  ; =============================================================================
00001000                           157  
00001000  =00000040                158  DMMBSIZE    EQU     64                      ; BLOCK SIZE (BYTES). POWER OF TWO
00001000  =00000032                159  DMMBNUM     EQU     50                      ; NUMBER OF BLOCKS
00001000  =00000000                160  DMMSYSID    EQU     0                       ; SYSTEM OWNER ID (MUST BE 0)
00001000  =00000000                161  -------------------- end include --------------------
00001000                           162              INCLUDE "LIB/UTLCONST.X68"
00001000                           163  ; ==============================================================================
00001000                           164  ; UTIL CONSTANTS
00001000                           165  ; ==============================================================================
00001000                           166  
00001000  =00000008                167  UTLCHRWD    EQU     8                       ; CHARACTER WIDTH IN PIXELS
00001000  =00000008                168  -------------------- end include --------------------
00001000                           169              INCLUDE "LIB/DMMCODE.X68"
00001000                           170  ; =============================================================================
00001000                           171  ; DYNAMIC MEMORY MANAGEMENT (SYSTEM CODE)
00001000                           172  ; DYNAMIC MEMORY IS A SET OF DMMBNUM SLOTS OF DMMBSIZE BYTES EACH ONE.
00001000                           173  ; DMMBSIZE MUST BE POWER OF TWO. A SLOT HAS:
00001000                           174  ; - HEADER - 1 WORD. SPECIFIES THE OWNER (0 MEANS OWNED BY SYSTEM)
00001000                           175  ; - DATA   - DMMBSIZE - 2 BYTES. MAY CONTAIN VARS AND ANY KIND OF DATA RELATED
00001000                           176  ;            THE THE OWNER. IF OWNER==0, DATA IS MEANINGLESS.
00001000                           177  ; =============================================================================
00001000                           178  
00001000                           179  ; -----------------------------------------------------------------------------
00001000                           180  DMMINIT
00001000                           181  ; INITIALIZES THE DYNAMIC MEMORY TO ALL OWNED BY SYSTEM.
00001000                           182  ; INPUT    - NONE
00001000                           183  ; OUTPUT   - NONE
00001000                           184  ; MODIFIES - NONE
00001000                           185  ; -----------------------------------------------------------------------------
00001000  48E7 8080                186              MOVEM.L D0/A0,-(A7)
00001004  41F9 000027C0            187              LEA     DMMDATA,A0
0000100A  303C 0031                188              MOVE.W  #DMMBNUM-1,D0
0000100E  30BC 0000                189  .LOOP       MOVE.W  #DMMSYSID,(A0)
00001012  D1FC 00000040            190              ADD.L   #DMMBSIZE,A0
00001018  51C8 FFF4                191              DBRA.W  D0,.LOOP
0000101C  4CDF 0101                192              MOVEM.L (A7)+,D0/A0
00001020  4E75                     193              RTS
00001022                           194  
00001022                           195  ; -----------------------------------------------------------------------------
00001022                           196  DMMFIRST
00001022                           197  ; SEARCHES THE FIRST MEMORY SLOT NOT OWNED BY SYSTEM AND OUTPUTS A POINTER
00001022                           198  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
00001022                           199  ; INPUT    - NONE
00001022                           200  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
00001022                           201  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001022                           202  ; -----------------------------------------------------------------------------
00001022  41F9 000027C0            203              LEA     DMMDATA,A0
00001028  4A58                     204  DMMFRLOP    TST.W   (A0)+
0000102A  6600 0016                205              BNE     DMMFRFND
0000102E  D1FC 0000003E            206              ADD.L   #DMMBSIZE-2,A0
00001034  B1FC 0000343F            207  DMMFRCOM    CMP.L   #DMMDATA+DMMBSIZE*DMMBNUM-1,A0
0000103A  6DEC                     208              BLT     DMMFRLOP
0000103C  207C 00000000            209              MOVE.L  #0,A0
00001042  4E75                     210  DMMFRFND    RTS
00001044                           211  
00001044                           212  ; -----------------------------------------------------------------------------
00001044                           213  DMMNEXT
00001044                           214  ; SEARCHES THE NEXT MEMORY SLOT NOT OWNED BY SYSTEM AND OUTPUTS A POINTER
00001044                           215  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
00001044                           216  ; INPUT    - A0   : POINTER WITHIN THE CURRENT SLOT
00001044                           217  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
00001044                           218  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001044                           219  ; -----------------------------------------------------------------------------
00001044  2F00                     220              MOVE.L  D0,-(A7)
00001046  2008                     221              MOVE.L  A0,D0
00001048  C0BC FFFFFFC0            222              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
0000104E  0680 00000040            223              ADD.L   #DMMBSIZE,D0
00001054  2040                     224              MOVE.L  D0,A0
00001056  201F                     225              MOVE.L  (A7)+,D0
00001058  60DA                     226              BRA     DMMFRCOM
0000105A                           227  
0000105A                           228  ; -----------------------------------------------------------------------------
0000105A                           229  DMMFRSTO
0000105A                           230  ; SEARCHES THE FIRST MEMORY SLOT WITH THE SPECIFIED ID AND OUTPUTS A POINTER
0000105A                           231  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
0000105A                           232  ; INPUT    - D0.W : ID TO SEARCH
0000105A                           233  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
0000105A                           234  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000105A                           235  ; -----------------------------------------------------------------------------
0000105A  41F9 000027C0            236              LEA     DMMDATA,A0
00001060  B058                     237  DMMFLOOP    CMP.W   (A0)+,D0
00001062  6700 0016                238              BEQ     DMMFFND
00001066  D1FC 0000003E            239              ADD.L   #DMMBSIZE-2,A0
0000106C  B1FC 0000343F            240  DMMFCOM     CMP.L   #DMMDATA+DMMBSIZE*DMMBNUM-1,A0
00001072  6DEC                     241              BLT     DMMFLOOP
00001074  207C 00000000            242              MOVE.L  #0,A0
0000107A  4E75                     243  DMMFFND     RTS
0000107C                           244  
0000107C                           245  ; -----------------------------------------------------------------------------
0000107C                           246  DMMNEXTO
0000107C                           247  ; SEARCHES THE NEXT MEMORY SLOT WITH THE SPECIFIED ID AND OUTPUTS A POINTER
0000107C                           248  ; TO THE CORRESPONDING DATA (SLOT ADDRESS+2)
0000107C                           249  ; INPUT    - D0.W : ID TO SEARCH
0000107C                           250  ;            A0   : POINTER WITHIN THE CURRENT SLOT
0000107C                           251  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FOUND
0000107C                           252  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000107C                           253  ; -----------------------------------------------------------------------------
0000107C  2F00                     254              MOVE.L  D0,-(A7)
0000107E  2008                     255              MOVE.L  A0,D0
00001080  C0BC FFFFFFC0            256              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
00001086  0680 00000040            257              ADD.L   #DMMBSIZE,D0
0000108C  2040                     258              MOVE.L  D0,A0
0000108E  201F                     259              MOVE.L  (A7)+,D0
00001090  60DA                     260              BRA     DMMFCOM
00001092                           261  
00001092                           262  ; -----------------------------------------------------------------------------
00001092                           263  DMMALLOC
00001092                           264  ; SEARCHES THE FIRST FREE (SYS OWNED) SLOT, ASSIGNS TO THE SPECIFIED OWNER
00001092                           265  ; AND RETURNS A POINTER TO THE CORRESPONDING DATA (SLOT ADDRESS + 2)
00001092                           266  ; INPUT    - D0.W : ID TO ASSIGN
00001092                           267  ; OUTPUT   - A0   : POINTER TO THE DATA OR 0 IF NOT FREE SPACE
00001092                           268  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001092                           269  ; -----------------------------------------------------------------------------
00001092  3F00                     270              MOVE.W  D0,-(A7)
00001094  4240                     271              CLR.W   D0
00001096  4EB8 105A                272              JSR     DMMFRSTO
0000109A  301F                     273              MOVE.W  (A7)+,D0
0000109C  B1FC 00000000            274              CMP.L   #0,A0
000010A2  6700 0006                275              BEQ     .END
000010A6  3140 FFFE                276              MOVE.W  D0,-2(A0)
000010AA  4E75                     277  .END        RTS
000010AC                           278  
000010AC                           279  ; -----------------------------------------------------------------------------
000010AC                           280  DMMFREE
000010AC                           281  ; FREES THE SLOT TO WHICH THE PROVIDED POINTER BELONGS BY SETTING ITS OWNED TO
000010AC                           282  ; SYSTEM (0)
000010AC                           283  ; INPUT    - A0   : POINTER BELONGING TO THE SLOT TO FREE
000010AC                           284  ; OUTPUT   - NONE
000010AC                           285  ; MODIFIES - NONE
000010AC                           286  ; -----------------------------------------------------------------------------
000010AC  48E7 8080                287              MOVEM.L D0/A0,-(A7)
000010B0  2008                     288              MOVE.L  A0,D0
000010B2  C0BC FFFFFFC0            289              AND.L   #-DMMBSIZE,D0           ; TAKE ADVANTAGE OF ALIGNMENT
000010B8  2040                     290              MOVE.L  D0,A0
000010BA  4250                     291              CLR.W   (A0)
000010BC  4CDF 0101                292              MOVEM.L (A7)+,D0/A0
000010C0  4E75                     293              RTS
000010C0  4E75                     294  -------------------- end include --------------------
000010C2                           295              INCLUDE "SYSTEM.X68"
000010C2                           296  ; ==============================================================================
000010C2                           297  ; SYSTEM
000010C2                           298  ; ==============================================================================
000010C2                           299  
000010C2                           300  ; ------------------------------------------------------------------------------
000010C2                           301  SYSINIT
000010C2                           302  ; INITIALIZE SYSTEM
000010C2                           303  ; INPUT     : NONE
000010C2                           304  ; OUTPUT    : NONE
000010C2                           305  ; MODIFIES  : NONE
000010C2                           306  ; ------------------------------------------------------------------------------
000010C2  21FC 00001136 0080       307              MOVE.L  #SCRPLOT,($80+SCRUPTN*4)
000010CA  21FC 0000116C 0084       308              MOVE.L  #KBDUPD,($80+KBDUPTN*4)
000010D2  21FC 00001150 0064       309              MOVE.L  #SCRTIM,($60+SCRINTN*4)
000010DA                           310          
000010DA  4EB9 000010F2            311              JSR     SCRINIT
000010E0  4EB9 0000115E            312              JSR     KBDINIT
000010E6  4EB8 1000                313              JSR     DMMINIT
000010EA                           314          
000010EA  40E7                     315              MOVE.W  SR,-(A7)
000010EC  0257 D8FF                316              ANDI.W  #$D8FF,(A7)
000010F0  4E73                     317              RTE
000010F2                           318  
000010F2                           319  ; ------------------------------------------------------------------------------
000010F2                           320  SCRINIT
000010F2                           321  ; INIT SCREEN. SET SCREEN RESOLUTION, SET WINDOWED MODE,
000010F2                           322  ; CLEAR SCREEN, ENABLE DOUBLE BUFFER, ENABLE TIMED INTERRUPT
000010F2                           323  ; INPUT     : NONE
000010F2                           324  ; OUTPUT    : NONE
000010F2                           325  ; MODIFIES  : NONE
000010F2                           326  ; ------------------------------------------------------------------------------
000010F2                           327          
000010F2  48E7 F000                328              MOVEM.L D0-D3,-(A7)
000010F6                           329          
000010F6                           330              ; SET SCREEN RESOLUTION
000010F6  103C 0021                331              MOVE.B  #33,D0
000010FA  223C 028001E0            332              MOVE.L  #SCRWIDTH<<16|SCRHEIGH,D1
00001100  4E4F                     333              TRAP    #15
00001102                           334          
00001102                           335              ; SET WINDOWED MODE
00001102  7201                     336              MOVE.L  #1,D1
00001104  4E4F                     337              TRAP    #15
00001106                           338          
00001106                           339              ; CLEAR SCREEN
00001106  103C 000B                340              MOVE.B  #11,D0
0000110A  323C FF00                341              MOVE.W  #$FF00,D1
0000110E  4E4F                     342              TRAP    #15
00001110                           343          
00001110                           344              ; ENABLE DOUBLE BUFFER
00001110  103C 005C                345              MOVE.B  #92,D0
00001114  123C 0011                346              MOVE.B  #17,D1
00001118  4E4F                     347              TRAP    #15
0000111A                           348          
0000111A                           349              ; ENABLE TIMED INTERRUPT
0000111A  103C 0020                350              MOVE.B  #32,D0
0000111E  123C 0006                351              MOVE.B  #6,D1
00001122  143C 0081                352              MOVE.B  #$80|SCRINTN,D2
00001126  7614                     353              MOVE.L  #1000/SCRFPS,D3
00001128  4E4F                     354              TRAP    #15
0000112A                           355          
0000112A                           356              ; CLEAR INTERRUPT COUNTER
0000112A  4279 000027A0            357              CLR.W   (SCRINTCT)
00001130                           358          
00001130  4CDF 000F                359              MOVEM.L (A7)+,D0-D3
00001134                           360          
00001134  4E75                     361              RTS
00001136                           362          
00001136                           363  ; ------------------------------------------------------------------------------
00001136                           364  SCRPLOT
00001136                           365  ; UPDATES DOUBLE BUFFER
00001136                           366  ; INPUT     : NONE
00001136                           367  ; OUTPUT    : NONE
00001136                           368  ; MODIFIES  : NONE
00001136                           369  ; ------------------------------------------------------------------------------
00001136  48A7 C000                370              MOVEM.W D0-D1,-(A7)
0000113A                           371              ; SWITCH BUFFERS
0000113A  103C 005E                372              MOVE.B  #94,D0
0000113E  4E4F                     373              TRAP    #15
00001140                           374          
00001140                           375              ; CLEAR HIDDEN BUFFER
00001140  103C 000B                376              MOVE.B  #11,D0
00001144  323C FF00                377              MOVE.W  #$FF00,D1
00001148  4E4F                     378              TRAP    #15
0000114A  4C9F 0003                379              MOVEM.W (A7)+,D0-D1
0000114E  4E73                     380              RTE
00001150                           381          
00001150                           382  ; ------------------------------------------------------------------------------
00001150                           383  SCRTIM
00001150                           384  ; TIMED INTERRUPT SERVICE ROUTINE
00001150                           385  ; INPUT     : NONE
00001150                           386  ; OUTPUT    : NONE
00001150                           387  ; MODIFIES  : NONE
00001150                           388  ; ------------------------------------------------------------------------------
00001150  5239 000027A0            389              ADDQ.B  #1,(SCRINTCT)
00001156  5239 000027A1            390              ADDQ.B  #1,(SCRCYCCT)
0000115C  4E73                     391              RTE
0000115E                           392          
0000115E                           393  ; ------------------------------------------------------------------------------
0000115E                           394  KBDINIT
0000115E                           395  ; INIT KEYBOARD
0000115E                           396  ; INPUT     : NONE
0000115E                           397  ; OUTPUT    : NONE
0000115E                           398  ; MODIFIES  : NONE
0000115E                           399  ; ------------------------------------------------------------------------------
0000115E  4239 0000279E            400              CLR.B   (KBDVAL)
00001164  4239 0000279F            401              CLR.B   (KBDEDGE)
0000116A  4E75                     402              RTS
0000116C                           403          
0000116C                           404  ; ------------------------------------------------------------------------------
0000116C                           405  KBDUPD
0000116C                           406  ; UPDATE KEYBOARD INFO
0000116C                           407  ; 7 -> PAUSE
0000116C                           408  ; 6 -> FIRE 3
0000116C                           409  ; 5 -> FIRE 2
0000116C                           410  ; 4 -> FIRE 1
0000116C                           411  ; 3 -> DOWN
0000116C                           412  ; 2 -> RIGHT
0000116C                           413  ; 1 -> UP
0000116C                           414  ; 0 -> LEFT
0000116C                           415  ; INPUT     : NONE
0000116C                           416  ; OUTPUT    : NONE
0000116C                           417  ; MODIFIES  : NONE
0000116C                           418  ; ------------------------------------------------------------------------------
0000116C  48E7 F000                419              MOVEM.L D0-D3,-(A7)
00001170                           420  
00001170                           421              ; READ FIRST PART
00001170  103C 0013                422              MOVE.B  #19,D0
00001174  223C 50104D20            423              MOVE.L  #KBDPAUSE<<24|KBDFIRE3<<16|KBDFIRE2<<8|KBDFIRE1,D1
0000117A  4E4F                     424              TRAP    #15
0000117C                           425              
0000117C                           426              ; CONVERT TO DESIRED FORMAT
0000117C  4EB9 000011AC            427              JSR     .PACK
00001182                           428  
00001182                           429              ; READ SECOND PART
00001182  223C 28272625            430              MOVE.L  #KBDDOWN<<24|KBDRIGHT<<16|KBDUP<<8|KBDLEFT,D1
00001188  4E4F                     431              TRAP    #15
0000118A                           432  
0000118A                           433              ; CONVERT TO DESIRED FORMAT
0000118A  4EB9 000011AC            434              JSR     .PACK
00001190                           435              
00001190                           436              ; COMPUTE KBDEDGE
00001190  1039 0000279E            437              MOVE.B  (KBDVAL),D0
00001196  4600                     438              NOT.B   D0
00001198  C002                     439              AND.B   D2,D0
0000119A  13C0 0000279F            440              MOVE.B  D0,(KBDEDGE)
000011A0                           441              
000011A0                           442              ; STORE KBDVAL
000011A0  13C2 0000279E            443              MOVE.B  D2,(KBDVAL)
000011A6                           444              
000011A6  4CDF 000F                445              MOVEM.L (A7)+,D0-D3
000011AA                           446  
000011AA  4E73                     447              RTE
000011AC                           448              
000011AC  363C 0003                449  .PACK       MOVE.W  #3,D3
000011B0  E189                     450  .LOOP       LSL.L   #8,D1
000011B2  E312                     451              ROXL.B  #1,D2
000011B4  51CB FFFA                452              DBRA.W  D3,.LOOP
000011B8  4E75                     453              RTS
000011BA                           454  
000011BA                           455  
000011BA                           456  
000011BA                           457  
000011BA                           458  
000011BA                           459  
000011BA                           460  
000011BA                           461  
000011BA                           462  
000011BA                           463  
000011BA                           464  
000011BA                           465  
000011BA                           466  
000011BA                           467  
000011BA                           468  
000011BA                           469  
000011BA                           470  
000011BA                           471  
000011BA                           472  
000011BA                           473  
000011BA                           474  
000011BA                           475  -------------------- end include --------------------
000011BA                           476              INCLUDE "LIB/AGLCODE.X68"
000011BA                           477  ; =============================================================================
000011BA                           478  ; AGENT MANAGEMENT
000011BA                           479  ; EACH AGENT HAS A DATA BLOCK FROM DMM AS FOLLOWS:
000011BA                           480  ; +0 - LONG : UPDATE SUBROUTINE POINTER
000011BA                           481  ; +4 - LONG : PLOT SUBROUTINE POINTER
000011BA                           482  ; +8:END    : DATA (AGENT SPECIFIC)
000011BA                           483  ; =============================================================================
000011BA                           484  
000011BA                           485  ; -----------------------------------------------------------------------------
000011BA                           486  AGLADD
000011BA                           487  ; CREATES A NEW AGENT
000011BA                           488  ; INPUT    - A1 - POINTER TO AGENT INIT FUNCTION
000011BA                           489  ;            A2 - POINTER TO AGENT UPDATE FUNCTION
000011BA                           490  ;            A3 - POINTER TO AGENT PLOT FUNCTION
000011BA                           491  ;            D0 - AGENT TYPE (USED AS OWNER BY DMM)
000011BA                           492  ;            D1 - AGENT INITIALIZATION PARAMETER 1
000011BA                           493  ;            D2 - AGENT INITIALIZATION PARAMETER 2
000011BA                           494  ;            D3 - AGENT INITIALIZATION PARAMETER 3
000011BA                           495  ; OUTPUT   - NONE
000011BA                           496  ; MODIFIES - NONE
000011BA                           497  ; -----------------------------------------------------------------------------
000011BA  2F08                     498              MOVE.L  A0,-(A7)
000011BC  4EB8 1092                499              JSR     DMMALLOC
000011C0  B1FC 00000000            500              CMP.L   #0,A0
000011C6  6700 0008                501              BEQ     .END
000011CA  20CA                     502              MOVE.L  A2,(A0)+
000011CC  20CB                     503              MOVE.L  A3,(A0)+
000011CE  4E91                     504              JSR     (A1)
000011D0  205F                     505  .END        MOVE.L  (A7)+,A0
000011D2  4E75                     506              RTS
000011D4                           507  
000011D4                           508  ; -----------------------------------------------------------------------------
000011D4                           509  AGLUPD
000011D4                           510  ; UPDATES THE AGENT LIST. PRIOR TO CALLING THE UPDATE FUNCTIONS, A0 IS SET
000011D4                           511  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT.
000011D4                           512  ; INPUT    - NONE
000011D4                           513  ; OUTPUT   - NONE
000011D4                           514  ; MODIFIES - NONE
000011D4                           515  ; -----------------------------------------------------------------------------
000011D4  48E7 00C0                516              MOVEM.L A0-A1,-(A7)
000011D8  4EB8 1022                517              JSR     DMMFIRST
000011DC  B1FC 00000000            518  .LOOP       CMP.L   #0,A0
000011E2  6700 000E                519              BEQ     .END
000011E6  2250                     520              MOVE.L  (A0),A1
000011E8  5088                     521              ADD.L   #8,A0
000011EA  4E91                     522              JSR     (A1)
000011EC  4EB8 1044                523              JSR     DMMNEXT
000011F0  60EA                     524              BRA     .LOOP
000011F2  4CDF 0300                525  .END        MOVEM.L (A7)+,A0-A1
000011F6  4E75                     526              RTS
000011F8                           527  
000011F8                           528  ; -----------------------------------------------------------------------------
000011F8                           529  AGLPLOT
000011F8                           530  ; PLOTS THE AGENT LIST. PRIOR TO CALLING THE UPDATE FUNCTIONS, A0 IS SET
000011F8                           531  ; TO THE DATA BLOCK OF THE CORRESPONDING SLOT.
000011F8                           532  ; INPUT    - NONE
000011F8                           533  ; OUTPUT   - NONE
000011F8                           534  ; MODIFIES - NONE
000011F8                           535  ; -----------------------------------------------------------------------------
000011F8  48E7 00C0                536              MOVEM.L A0-A1,-(A7)
000011FC  4EB8 1022                537              JSR     DMMFIRST
00001200  B1FC 00000000            538  .LOOP       CMP.L   #0,A0
00001206  6700 0010                539              BEQ     .END
0000120A  2268 0004                540              MOVE.L  4(A0),A1
0000120E  5088                     541              ADD.L   #8,A0
00001210  4E91                     542              JSR     (A1)
00001212  4EB8 1044                543              JSR     DMMNEXT
00001216  60E8                     544              BRA     .LOOP
00001218  4CDF 0300                545  .END        MOVEM.L (A7)+,A0-A1
0000121C  4E75                     546              RTS
0000121E                           547  
0000121E                           548  ; -----------------------------------------------------------------------------
0000121E  =000010AC                549  AGLKILL     EQU     DMMFREE
0000121E                           550  ; KILLS THE AGENT BY RELEASING ITS MEMORY
0000121E                           551  ; INPUT    - A0 POINTER WITHIN THE AGENT MEMORY
0000121E                           552  ; OUTPUT   - NONE
0000121E                           553  ; MODIFIES - NONE
0000121E                           554  ; NOTE     - IT IS JUST A WRAPPER FOR DMMFREE
0000121E                           555  ; -----------------------------------------------------------------------------
0000121E                           556  -------------------- end include --------------------
0000121E                           557              INCLUDE "LIB/UTLCODE.X68"
0000121E                           558  ; =============================================================================
0000121E                           559  ; UTILITY CODE
0000121E                           560  ; =============================================================================
0000121E                           561  
0000121E                           562  ; -----------------------------------------------------------------------------
0000121E                           563  UTLINIT
0000121E                           564  ; INITIALIZES UTILITY CODE
0000121E                           565  ; INPUT    - NONE
0000121E                           566  ; OUTPUT   - NONE
0000121E                           567  ; MODIFIES - NONE
0000121E                           568  ; -----------------------------------------------------------------------------
0000121E  48E7 C000                569              MOVEM.L D0-D1,-(A7)
00001222  103C 0008                570              MOVE.B  #8,D0
00001226  4E4F                     571              TRAP    #15
00001228  13C1 0000279C            572              MOVE.B  D1,(UTLRNDIX)
0000122E  4CDF 0003                573              MOVEM.L (A7)+,D0-D1
00001232  4E75                     574              RTS
00001234                           575              
00001234                           576  ; -----------------------------------------------------------------------------
00001234                           577  UTLCHCOL
00001234                           578  ; CHECKS COLLISION
00001234                           579  ; INPUT     - D0.W X0 COORDINATE
00001234                           580  ;             D1.W Y0 COORDINATE
00001234                           581  ;             D2.W X1 COORDINATE
00001234                           582  ;             D3.W Y1 COORDINATE
00001234                           583  ;             D4.W WIDTH 0
00001234                           584  ;             D5.W WIDTH 1
00001234                           585  ;             D6.W HEIGH 0
00001234                           586  ;             D7.W HEIGH 1
00001234                           587  ; OUPUT     - D0.B=FF - COLLISION, =0 - NO COLLISION
00001234                           588  ; MODIFIES  - NONE
00001234                           589  ; -----------------------------------------------------------------------------
00001234  48A7 0F00                590              MOVEM.W D4-D7,-(A7)
00001238  D840                     591              ADD.W   D0,D4
0000123A  B842                     592              CMP.W   D2,D4
0000123C  6F00 0022                593              BLE     .NOCOL
00001240  DA42                     594              ADD.W   D2,D5
00001242  BA40                     595              CMP.W   D0,D5
00001244  6F00 001A                596              BLE     .NOCOL
00001248  DC41                     597              ADD.W   D1,D6
0000124A  BC43                     598              CMP.W   D3,D6
0000124C  6F00 0012                599              BLE     .NOCOL
00001250  DE43                     600              ADD.W   D3,D7
00001252  BE41                     601              CMP.W   D1,D7
00001254  6F00 000A                602              BLE     .NOCOL
00001258  103C 00FF                603              MOVE.B  #$FF,D0
0000125C  6000 0004                604              BRA     .END
00001260  4200                     605  .NOCOL      CLR.B   D0
00001262  4C9F 00F0                606  .END        MOVEM.W (A7)+,D4-D7
00001266  4E75                     607              RTS
00001268                           608              
00001268                           609  ; -----------------------------------------------------------------------------
00001268                           610  UTLPRINT
00001268                           611  ; PRINT SCREEN CENTERED TEXT
00001268                           612  ; INPUT    : A0 POINTER TO ZERO-TERMINATED STRING
00001268                           613  ;            D0.B SCREEN ROW TO PRINT TEXT
00001268                           614  ; OUTPUT   : D0.B NEXT ROW
00001268                           615  ; MODIFIES : NONE (ASIDE OF OUTPUT)
00001268                           616  ; -----------------------------------------------------------------------------
00001268  48E7 C0C0                617              MOVEM.L D0-D1/A0-A1,-(A7)
0000126C  4201                     618              CLR.B   D1
0000126E  2248                     619              MOVE.L  A0,A1
00001270  4A18                     620  .LOOP       TST.B   (A0)+
00001272  6700 0006                621              BEQ     .ENDLOOP
00001276  5201                     622              ADDQ.B  #1,D1
00001278  60F6                     623              BRA     .LOOP
0000127A  E209                     624  .ENDLOOP    LSR.B   #1,D1
0000127C  0401 0028                625              SUB.B   #(SCRWIDTH/UTLCHRWD)/2,D1
00001280  4401                     626              NEG.B   D1
00001282  E141                     627              ASL.W   #8,D1
00001284  8240                     628              OR.W    D0,D1
00001286  103C 000B                629              MOVE.B  #11,D0
0000128A  4E4F                     630              TRAP    #15
0000128C  103C 000D                631              MOVE.B  #13,D0
00001290  4E4F                     632              TRAP    #15
00001292  4CDF 0303                633              MOVEM.L (A7)+,D0-D1/A0-A1
00001296  5200                     634              ADDQ.B  #1,D0
00001298  4E75                     635              RTS
0000129A                           636              
0000129A                           637              
0000129A                           638  
0000129A                           639  
0000129A                           640              ; (SCRWIDTH/UTLCHRWD)/2 - D1/2
0000129A                           641  
0000129A                           642  
0000129A                           643  ; -----------------------------------------------------------------------------
0000129A                           644  UTLRAND
0000129A                           645  ; PROVIDES A PSEUDO-RANDOM BYTE
0000129A                           646  ; INPUT    - NONE
0000129A                           647  ; OUTPUT   - D0.L RANDOM VALUE (ONLY BYTE)
0000129A                           648  ; MODIFIES - NONE (ASIDE OF OUTPUT)
0000129A                           649  ; -----------------------------------------------------------------------------
0000129A  2F08                     650              MOVE.L  A0,-(A7)
0000129C  41F9 000012B8            651              LEA     .RANDVEC,A0
000012A2  4280                     652              CLR.L   D0
000012A4  1039 0000279C            653              MOVE.B  (UTLRNDIX),D0
000012AA  1030 0800                654              MOVE.B  (A0,D0.L),D0
000012AE  5239 0000279C            655              ADDQ.B  #1,(UTLRNDIX)
000012B4  205F                     656              MOVE.L  (A7)+,A0
000012B6  4E75                     657              RTS
000012B8                           658  
000012B8                           659  
000012B8= A2 EE 9A 0C F5 24 ...    660  .RANDVEC    DC.B    162, 238, 154, 12 , 245, 36 , 32 , 103
000012C0= 2A A3 51 26 E0 AC ...    661              DC.B    42 , 163, 81 , 38 , 224, 172, 19 , 69
000012C8= 75 51 CA FD 33 EB ...    662              DC.B    117, 81 , 202, 253, 51 , 235, 108, 154
000012D0= 60 CC E7 B8 9A EB ...    663              DC.B    96 , 204, 231, 184, 154, 235, 34 , 203
000012D8= 1D 76 B5 95 B0 89 ...    664              DC.B    29 , 118, 181, 149, 176, 137, 62 , 108
000012E0= 39 15 48 C9 6E CA ...    665              DC.B    57 , 21 , 72 , 201, 110, 202, 159, 41
000012E8= 43 E7 E2 7C 37 25 ...    666              DC.B    67 , 231, 226, 124, 55 , 37 , 84 , 62
000012F0= E9 94 CE E9 E4 52 ...    667              DC.B    233, 148, 206, 233, 228, 82 , 243, 78
000012F8= 37 6D 9A 84 A2 28 ...    668              DC.B    55 , 109, 154, 132, 162, 40 , 30 , 39
00001300= 19 E2 C6 77 80 D4 ...    669              DC.B    25 , 226, 198, 119, 128, 212, 232, 225
00001308= 0A 5A 32 67 33 C2 ...    670              DC.B    10 , 90 , 50 , 103, 51 , 194, 222, 40
00001310= 59 80 DC 0E 57 FC ...    671              DC.B    89 , 128, 220, 14 , 87 , 252, 243, 252
00001318= 8A AB BC F7 07 4D ...    672              DC.B    138, 171, 188, 247, 7  , 77 , 29 , 234
00001320= EF D5 77 6E 1E BB ...    673              DC.B    239, 213, 119, 110, 30 , 187, 131, 23
00001328= D6 E0 2A 8F BD 28 ...    674              DC.B    214, 224, 42 , 143, 189, 40 , 212, 130
00001330= 13 4F 66 EC 0A 64 ...    675              DC.B    19 , 79 , 102, 236, 10 , 100, 122, 188
00001338= 56 52 9A 16 9B 90 ...    676              DC.B    86 , 82 , 154, 22 , 155, 144, 7  , 199
00001340= 06 8A A4 F7 01 DA ...    677              DC.B    6  , 138, 164, 247, 1  , 218, 166, 82
00001348= F2 E7 77 28 B1 76 ...    678              DC.B    242, 231, 119, 40 , 177, 118, 220, 102
00001350= A4 42 E3 81 B1 67 ...    679              DC.B    164, 66 , 227, 129, 177, 103, 165, 108
00001358= BF CE FA 16 BF 38 ...    680              DC.B    191, 206, 250, 22 , 191, 56 , 30 , 161
00001360= D1 8B 50 0C 5F 49 ...    681              DC.B    209, 139, 80 , 12 , 95 , 73 , 168, 56
00001368= DE 4C 14 A2 40 DC ...    682              DC.B    222, 76 , 20 , 162, 64 , 220, 93 , 12
00001370= B6 9B 0A 38 5D AB ...    683              DC.B    182, 155, 10 , 56 , 93 , 171, 89 , 6
00001378= E2 1B DD 75 15 82 ...    684              DC.B    226, 27 , 221, 117, 21 , 130, 101, 18
00001380= 8A 26 51 30 9F 47 ...    685              DC.B    138, 38 , 81 , 48 , 159, 71 , 57 , 21
00001388= 1E 8A BB 71 C6 6E ...    686              DC.B    30 , 138, 187, 113, 198, 110, 185, 152
00001390= 9F 47 E5 34 94 27 ...    687              DC.B    159, 71 , 229, 52 , 148, 39 , 77 , 6
00001398= 7D 06 D6 BA 30 0F ...    688              DC.B    125, 6  , 214, 186, 48 , 15 , 212, 22
000013A0= EC 7F 7E 03 CF 2D ...    689              DC.B    236, 127, 126, 3  , 207, 45 , 193, 2
000013A8= 94 5B 23 F2 8B CD ...    690              DC.B    148, 91 , 35 , 242, 139, 205, 248, 237
000013B0= 74 33 EC B9 0F D5 ...    691              DC.B    116, 51 , 236, 185, 15 , 213, 221, 6
000013B8                           692  
000013B8                           693  
000013B8                           694  
000013B8                           695  -------------------- end include --------------------
000013B8                           696              INCLUDE "SHOT.X68"
000013B8                           697  ; ==============================================================================
000013B8                           698  ; SHOT MANAGEMENT (AGENT)
000013B8                           699  ; SHTPOSX (W)  (A0)
000013B8                           700  ; SHTPOSY (W) 2(A0)
000013B8                           701  ; ==============================================================================
000013B8                           702      
000013B8                           703  ; ------------------------------------------------------------------------------
000013B8                           704  SHTINIT
000013B8                           705  ; INITIALIZE SHOT
000013B8                           706  ; INPUT     : A0 POINTER TO THE INSTANCE VARIABLES
000013B8                           707  ;             D1 X COORDINATE
000013B8                           708  ;             D2 Y COORDINATE
000013B8                           709  ; OUTPUT    : NONE
000013B8                           710  ; MODIFIES  : NONE
000013B8                           711  ; ------------------------------------------------------------------------------
000013B8  48A7 6000                712              MOVEM.W D1-D2,-(A7)
000013BC  3081                     713              MOVE.W  D1,(A0)
000013BE  3142 0002                714              MOVE.W  D2,2(A0)
000013C2  4C9F 0006                715              MOVEM.W (A7)+,D1-D2
000013C6  4E75                     716              RTS
000013C8                           717          
000013C8                           718  ; ------------------------------------------------------------------------------
000013C8                           719  SHTUPD
000013C8                           720  ; UPDATES THE SHOT
000013C8                           721  ; INPUT     : A0 POINTER TO THE INSTANCE VARIABLES
000013C8                           722  ; OUTPUT    : NONE
000013C8                           723  ; MODIFIES  : NONE
000013C8                           724  ; ------------------------------------------------------------------------------
000013C8  5768 0002                725              SUB.W   #SHTSPEED,2(A0)         ; MOVE
000013CC  0C50 0007                726              CMP.W   #SHTHEIGH,(A0)          ; KILL IF OUT OF SCREEN
000013D0  6F00 FCDA                727              BLE     AGLKILL
000013D4  48E7 FFC0                728              MOVEM.L A0-A1/D0-D7,-(A7)
000013D8  3410                     729              MOVE.W  (A0),D2
000013DA  3628 0002                730              MOVE.W  2(A0),D3
000013DE  3A3C 0001                731              MOVE.W  #SHTWIDTH,D5
000013E2  3E3C 0007                732              MOVE.W  #SHTHEIGH,D7
000013E6  2248                     733              MOVE.L  A0,A1
000013E8  303C 0003                734              MOVE.W  #ENEAGN,D0
000013EC  4EB8 105A                735              JSR     DMMFRSTO
000013F0  B1FC 00000000            736  .LOOP       CMP.L   #0,A0
000013F6  6700 002C                737              BEQ     .END
000013FA  3028 0008                738              MOVE.W  8(A0),D0
000013FE  0440 0019                739              SUB.W   #ENEWIDTH/2,D0
00001402  3228 000A                740              MOVE.W  10(A0),D1
00001406  5B41                     741              SUB.W   #ENEHEIGH/2,D1
00001408  383C 0032                742              MOVE.W  #ENEWIDTH,D4
0000140C  3C3C 000A                743              MOVE.W  #ENEHEIGH,D6
00001410  4EB8 1234                744              JSR     UTLCHCOL
00001414  4A00                     745              TST.B   D0
00001416  6600 0012                746              BNE     .EXPLO
0000141A  303C 0003                747              MOVE.W  #ENEAGN,D0
0000141E  4EB8 107C                748              JSR     DMMNEXTO
00001422  60CC                     749              BRA     .LOOP
00001424  4CDF 03FF                750  .END        MOVEM.L (A7)+,A0-A1/D0-D7
00001428  4E75                     751              RTS            
0000142A  5088                     752  .EXPLO      ADD.L   #8,A0
0000142C  4EB9 000018D8            753              JSR     ENEXPLO
00001432  2049                     754              MOVE.L  A1,A0
00001434  4EB8 10AC                755              JSR     AGLKILL            
00001438  5279 00002788            756              ADDQ.W  #1,(SCODST)
0000143E  60E4                     757              BRA     .END
00001440                           758          
00001440                           759  ; ------------------------------------------------------------------------------
00001440                           760  SHTPLOT
00001440                           761  ; PLOT THE SHOT
00001440                           762  ; INPUT     : A0 POINTER TO THE INSTANCE VARIABLES
00001440                           763  ; OUTPUT    : NONE
00001440                           764  ; MODIFIES  : NONE
00001440                           765  ; ------------------------------------------------------------------------------
00001440                           766          
00001440  48E7 F800                767              MOVEM.L D0-D4,-(A7)
00001444                           768          
00001444                           769              ; SET PEN COLOR
00001444  103C 0050                770              MOVE.B  #80,D0
00001448  223C 0000FFFF            771              MOVE.L  #SHTPCOL,D1
0000144E  4E4F                     772              TRAP    #15
00001450                           773          
00001450                           774              ; SET FILL COLOR
00001450  103C 0051                775              MOVE.B  #81,D0
00001454  223C 0000FFFF            776              MOVE.L  #SHTFCOL,D1
0000145A  4E4F                     777              TRAP    #15
0000145C                           778          
0000145C                           779              ; DEFINE COORDINATES
0000145C  3210                     780              MOVE.W  (A0),D1
0000145E  0441 0000                781              SUB.W   #SHTWIDTH/2,D1
00001462  3428 0002                782              MOVE.W  2(A0),D2
00001466  5F42                     783              SUB.W   #SHTHEIGH,D2
00001468  3601                     784              MOVE.W  D1,D3
0000146A  5243                     785              ADD.W   #SHTWIDTH,D3
0000146C  3828 0002                786              MOVE.W  2(A0),D4
00001470                           787          
00001470                           788              ; DRAW RECTANGLE
00001470  103C 0057                789              MOVE.B  #87,D0
00001474  4E4F                     790              TRAP    #15
00001476                           791              
00001476  4CDF 001F                792              MOVEM.L (A7)+,D0-D4
0000147A                           793  
0000147A  4E75                     794              RTS
0000147C                           795  
0000147C                           796  
0000147C                           797  
0000147C                           798  
0000147C                           799  
0000147C                           800  
0000147C                           801  
0000147C                           802  
0000147C                           803  -------------------- end include --------------------
0000147C                           804              INCLUDE "ENEMYSHOT.X68"
0000147C                           805  ; ==============================================================================
0000147C                           806  ; ENEMY SHOT MANAGEMENT (AGENT)
0000147C                           807  ; ESHPOSX (W)  (A0)
0000147C                           808  ; ESHPOSY (W) 2(A0)
0000147C                           809  ; ==============================================================================
0000147C                           810      
0000147C                           811  ; ------------------------------------------------------------------------------
0000147C                           812  ESHINIT
0000147C                           813  ; INITIALIZE ENEMY SHOT
0000147C                           814  ; INPUT     : A0 POINTER TO THE INSTANCE VARIABLES
0000147C                           815  ;             D1 X COORDINATE
0000147C                           816  ;             D2 Y COORDINATE
0000147C                           817  ; OUTPUT    : NONE
0000147C                           818  ; MODIFIES  : NONE
0000147C                           819  ; ------------------------------------------------------------------------------
0000147C  48A7 6000                820              MOVEM.W D1-D2,-(A7)
00001480  3081                     821              MOVE.W  D1,(A0)
00001482  3142 0002                822              MOVE.W  D2,2(A0)
00001486  4C9F 0006                823              MOVEM.W (A7)+,D1-D2
0000148A  4E75                     824              RTS
0000148C                           825          
0000148C                           826  ; ------------------------------------------------------------------------------
0000148C                           827  ESHUPD
0000148C                           828  ; UPDATES THE ENEMY SHOT
0000148C                           829  ; INPUT     : A0 POINTER TO THE INSTANCE VARIABLES
0000148C                           830  ; OUTPUT    : NONE
0000148C                           831  ; MODIFIES  : NONE
0000148C                           832  ; ------------------------------------------------------------------------------
0000148C                           833              
0000148C  48A7 E000                834              MOVEM.W D0-D2,-(A7)
00001490                           835          
00001490                           836              ; UPDATE SHOT COORDINATES
00001490  3010                     837              MOVE.W  (A0),D0
00001492  3228 0002                838              MOVE.W  2(A0),D1
00001496  5641                     839              ADD.W   #SHTSPEED,D1
00001498                           840          
00001498                           841              ; CHECK VERTICAL COLLISIONS
00001498  B27C 01D9                842              CMP.W   #SCRHEIGH-SHTHEIGH,D1
0000149C  6E00 0006                843              BGT     .COLBOT
000014A0  6000 000A                844              BRA     .CHKSHP
000014A4                           845              
000014A4  4EB8 10AC                846  .COLBOT     JSR     AGLKILL
000014A8  6000 0036                847              BRA     .DONE
000014AC                           848              
000014AC                           849              ; CHECK SHIP COLLISIONS
000014AC  343C 01AE                850  .CHKSHP     MOVE.W  #SHPPOSY,D2
000014B0  9441                     851              SUB.W   D1,D2
000014B2  6A00 0004                852              BPL     .ISPOS
000014B6  4442                     853              NEG.W   D2
000014B8  B47C 0003                854  .ISPOS      CMP.W   #SHPHEIGH/2-SHTHEIGH,D2
000014BC  6E00 0022                855              BGT     .DONE
000014C0  3439 00002782            856              MOVE.W  (SHPPOSX),D2
000014C6  9440                     857              SUB.W   D0,D2
000014C8  6A00 0004                858              BPL     .ISPOS2
000014CC  4442                     859              NEG.W   D2     
000014CE  B47C 0032                860  .ISPOS2     CMP.W   #SHPWIDTH/2+SHTWIDTH/2,D2
000014D2  6E00 000C                861              BGT     .DONE
000014D6  4EB8 10AC                862              JSR     AGLKILL
000014DA  5279 0000278A            863              ADDQ.W  #1,(SCOHIT)                   
000014E0                           864          
000014E0                           865              ; STORE POSITION
000014E0  3080                     866  .DONE       MOVE.W  D0,(A0)
000014E2  3141 0002                867              MOVE.W  D1,2(A0)
000014E6                           868  
000014E6  4C9F 0007                869              MOVEM.W (A7)+,D0-D2
000014EA                           870              
000014EA  4E75                     871              RTS
000014EC                           872          
000014EC                           873  ; ------------------------------------------------------------------------------
000014EC                           874  ESHPLOT
000014EC                           875  ; PLOT THE ENEMY SHOT
000014EC                           876  ; INPUT     : A0 POINTER TO THE INSTANCE VARIABLES
000014EC                           877  ; OUTPUT    : NONE
000014EC                           878  ; MODIFIES  : NONE
000014EC                           879  ; ------------------------------------------------------------------------------
000014EC                           880          
000014EC  48E7 F800                881              MOVEM.L D0-D4,-(A7)
000014F0                           882          
000014F0                           883              ; SET PEN COLOR
000014F0  103C 0050                884              MOVE.B  #80,D0
000014F4  223C 0000FFFF            885              MOVE.L  #SHTPCOL,D1
000014FA  4E4F                     886              TRAP    #15
000014FC                           887          
000014FC                           888              ; SET FILL COLOR
000014FC  103C 0051                889              MOVE.B  #81,D0
00001500  223C 0000FFFF            890              MOVE.L  #SHTFCOL,D1
00001506  4E4F                     891              TRAP    #15
00001508                           892          
00001508                           893              ; DEFINE COORDINATES
00001508  3210                     894              MOVE.W  (A0),D1
0000150A  0441 0000                895              SUB.W   #SHTWIDTH/2,D1
0000150E  3428 0002                896              MOVE.W  2(A0),D2
00001512  5F42                     897              SUB.W   #SHTHEIGH,D2
00001514  3601                     898              MOVE.W  D1,D3
00001516  5243                     899              ADD.W   #SHTWIDTH,D3
00001518  3828 0002                900              MOVE.W  2(A0),D4
0000151C                           901          
0000151C                           902              ; DRAW RECTANGLE
0000151C  103C 0057                903              MOVE.B  #87,D0
00001520  4E4F                     904              TRAP    #15
00001522                           905              
00001522  4CDF 001F                906              MOVEM.L (A7)+,D0-D4
00001526                           907  
00001526  4E75                     908              RTS
00001528                           909  
00001528                           910  
00001528                           911  
00001528                           912  
00001528                           913  
00001528                           914  
00001528                           915  
00001528                           916  
00001528                           917  -------------------- end include --------------------
00001528                           918              INCLUDE "INTROSHOT.X68"
00001528                           919  ; ==============================================================================
00001528                           920  ; INTRO SHOT MANAGEMENT (AGENT)
00001528                           921  ; IST1POSX (W)  (A0)
00001528                           922  ; IST1POSY (W) 2(A0)
00001528                           923  ; IST2POSX (W) 4(A0)
00001528                           924  ; IST2POSY (W) 6(A0)
00001528                           925  ; ==============================================================================
00001528                           926      
00001528                           927  ; ------------------------------------------------------------------------------
00001528                           928  ISTINIT
00001528                           929  ; INITIALIZE INTRO SHOT
00001528                           930  ; INPUT     : A0 POINTER TO THE INSTANCE VARIABLES
00001528                           931  ; OUTPUT    : NONE
00001528                           932  ; MODIFIES  : NONE
00001528                           933  ; ------------------------------------------------------------------------------
00001528  30BC 01D6                934              MOVE.W  #ISHPOSX+ISHWIDTH/2,(A0)
0000152C  317C 0118 0002           935              MOVE.W  #ISHPOSY+ISHHEIGH/2,2(A0)
00001532  317C 00AA 0004           936              MOVE.W  #ISHPOSX-ISHWIDTH/2,4(A0)
00001538  3168 0002 0006           937              MOVE.W  2(A0),6(A0)
0000153E  4E75                     938              RTS
00001540                           939          
00001540                           940  ; ------------------------------------------------------------------------------
00001540                           941  ISTUPD
00001540                           942  ; UPDATES THE INTRO SHOT
00001540                           943  ; INPUT     : A0 POINTER TO THE INSTANCE VARIABLES
00001540                           944  ; OUTPUT    : NONE
00001540                           945  ; MODIFIES  : NONE
00001540                           946  ; ------------------------------------------------------------------------------
00001540                           947              
00001540  48A7 C000                948              MOVEM.W D0-D1,-(A7)
00001544                           949          
00001544                           950              ; UPDATE SHOT COORDINATES
00001544  3028 0002                951              MOVE.W  2(A0),D0
00001548  3228 0006                952              MOVE.W  6(A0),D1
0000154C  5740                     953              SUB.W   #SHTSPEED,D0
0000154E  5741                     954              SUB.W   #SHTSPEED,D1
00001550                           955          
00001550                           956              ; CHECK VERTICAL COLLISIONS
00001550  B27C 0007                957              CMP.W   #SHTHEIGH,D1
00001554  6D00 0006                958              BLT     .COLTOP
00001558  6000 000A                959              BRA     .DONE
0000155C                           960              
0000155C  4EB8 10AC                961  .COLTOP     JSR     AGLKILL
00001560  6000 0002                962              BRA     .DONE                 
00001564                           963          
00001564                           964              ; STORE POSITION
00001564  3140 0002                965  .DONE       MOVE.W  D0,2(A0)
00001568  3141 0006                966              MOVE.W  D1,6(A0)
0000156C                           967  
0000156C  4C9F 0003                968              MOVEM.W (A7)+,D0-D1
00001570                           969              
00001570  4E75                     970              RTS
00001572                           971          
00001572                           972  ; ------------------------------------------------------------------------------
00001572                           973  ISTPLOT
00001572                           974  ; PLOT THE INTRO SHOT
00001572                           975  ; INPUT     : A0 POINTER TO THE INSTANCE VARIABLES
00001572                           976  ; OUTPUT    : NONE
00001572                           977  ; MODIFIES  : NONE
00001572                           978  ; ------------------------------------------------------------------------------
00001572                           979          
00001572  48E7 F800                980              MOVEM.L D0-D4,-(A7)
00001576                           981          
00001576                           982              ; DRAW RIGHT SHOT
00001576                           983              ; SET PEN COLOR
00001576  103C 0050                984              MOVE.B  #80,D0
0000157A  223C 0000FFFF            985              MOVE.L  #SHTPCOL,D1
00001580  4E4F                     986              TRAP    #15
00001582                           987          
00001582                           988              ; SET FILL COLOR
00001582  103C 0051                989              MOVE.B  #81,D0
00001586  223C 0000FFFF            990              MOVE.L  #SHTFCOL,D1
0000158C  4E4F                     991              TRAP    #15
0000158E                           992          
0000158E                           993              ; DEFINE COORDINATES
0000158E  3210                     994              MOVE.W  (A0),D1
00001590  0441 0000                995              SUB.W   #SHTWIDTH/2,D1
00001594  3428 0002                996              MOVE.W  2(A0),D2
00001598  5F42                     997              SUB.W   #SHTHEIGH,D2
0000159A  3601                     998              MOVE.W  D1,D3
0000159C  5243                     999              ADD.W   #SHTWIDTH,D3
0000159E  3828 0002               1000              MOVE.W  2(A0),D4
000015A2                          1001          
000015A2                          1002              ; DRAW RECTANGLE
000015A2  103C 0057               1003              MOVE.B  #87,D0
000015A6  4E4F                    1004              TRAP    #15
000015A8                          1005              
000015A8                          1006              ; DRAW LEFT SHOT
000015A8                          1007              ; DEFINE COORDINATES
000015A8  3228 0004               1008              MOVE.W  4(A0),D1
000015AC  0441 0000               1009              SUB.W   #SHTWIDTH/2,D1
000015B0  3428 0006               1010              MOVE.W  6(A0),D2
000015B4  5F42                    1011              SUB.W   #SHTHEIGH,D2
000015B6  3601                    1012              MOVE.W  D1,D3
000015B8  5243                    1013              ADD.W   #SHTWIDTH,D3
000015BA  3828 0006               1014              MOVE.W  6(A0),D4
000015BE                          1015              
000015BE  4E4F                    1016              TRAP    #15
000015C0                          1017              
000015C0  4CDF 001F               1018              MOVEM.L (A7)+,D0-D4
000015C4                          1019  
000015C4  4E75                    1020              RTS
000015C6                          1021  
000015C6                          1022  
000015C6                          1023  
000015C6                          1024  
000015C6                          1025  
000015C6                          1026  
000015C6                          1027  
000015C6                          1028  
000015C6                          1029  -------------------- end include --------------------
000015C6                          1030              INCLUDE "SHIP.X68"
000015C6                          1031  ; ==============================================================================
000015C6                          1032  ; SHIP MANAGEMENT
000015C6                          1033  ; ==============================================================================
000015C6                          1034      
000015C6                          1035  ; ------------------------------------------------------------------------------
000015C6                          1036  SHPINIT
000015C6                          1037  ; INITIALIZE SHIP
000015C6                          1038  ; INPUT     : NONE
000015C6                          1039  ; OUTPUT    : NONE
000015C6                          1040  ; MODIFIES  : NONE
000015C6                          1041  ; ------------------------------------------------------------------------------
000015C6  33FC 0140 00002782      1042              MOVE.W  #SCRWIDTH/2,(SHPPOSX)
000015CE  4E75                    1043              RTS
000015D0                          1044          
000015D0                          1045  ; ------------------------------------------------------------------------------
000015D0                          1046  SHPUPD
000015D0                          1047  ; UPDATES THE SHIP
000015D0                          1048  ; INPUT     : NONE
000015D0                          1049  ; OUTPUT    : NONE
000015D0                          1050  ; MODIFIES  : NONE
000015D0                          1051  ; ------------------------------------------------------------------------------
000015D0                          1052          
000015D0  3F00                    1053              MOVE.W  D0,-(A7)
000015D2                          1054          
000015D2                          1055              ; UPDATE COORDINATE
000015D2  3039 00002782           1056              MOVE.W  (SHPPOSX),D0
000015D8                          1057          
000015D8  0839 0000 0000279E      1058              BTST.B  #0,(KBDVAL)
000015E0  6700 0006               1059              BEQ     .CHKRGT
000015E4  0440 000A               1060              SUB.W   #SHPSPEED,D0
000015E8  0839 0002 0000279E      1061  .CHKRGT     BTST.B  #2,(KBDVAL)
000015F0  6700 0006               1062              BEQ     .CONT
000015F4  0640 000A               1063              ADD.W   #SHPSPEED,D0
000015F8                          1064          
000015F8                          1065              ; CHECK COLLISIONS
000015F8  B07C 0032               1066  .CONT       CMP.W   #SHPWIDTH/2,D0
000015FC  6C00 000A               1067              BGE     .CONT2
00001600  303C 0032               1068              MOVE.W  #SHPWIDTH/2,D0
00001604  6000 000E               1069              BRA     .DONE
00001608  B07C 024E               1070  .CONT2      CMP.W   #SCRWIDTH-SHPWIDTH/2,D0
0000160C  6F00 0006               1071              BLE     .DONE
00001610  303C 024E               1072              MOVE.W  #SCRWIDTH-SHPWIDTH/2,D0
00001614                          1073  
00001614                          1074              ; UPDATE VARIABLE
00001614  33C0 00002782           1075  .DONE       MOVE.W  D0,(SHPPOSX)
0000161A                          1076  
0000161A  0839 0004 0000279F      1077              BTST.B  #4,(KBDEDGE)        ; TECLA FIRE 1 (SPACE)
00001622  6600 000E               1078              BNE     .FIRE
00001626  0839 0001 0000279F      1079              BTST.B  #1,(KBDEDGE)        ; TECLA UP (ATTRACT MODE)
0000162E  6700 005E               1080              BEQ     .NOFIRE         
00001632  48E7 E070               1081  .FIRE       MOVEM.L D0-D2/A1-A3,-(A7)
00001636  43F8 13B8               1082              LEA     SHTINIT,A1
0000163A  45F8 13C8               1083              LEA     SHTUPD,A2
0000163E  47F8 1440               1084              LEA     SHTPLOT,A3
00001642  303C 0001               1085              MOVE.W  #SHTAGN,D0
00001646  0C79 000A 00002788      1086              CMP.W   #SCODSTSL,(SCODST)
0000164E  6D00 002C               1087              BLT     .ONESHT
00001652                          1088              ; TWO SHOTS (NEXT LEVEL)
00001652  3239 00002782           1089              MOVE.W  (SHPPOSX),D1
00001658  0641 0032               1090              ADD.W   #SHPWIDTH/2,D1
0000165C  343C 01AE               1091              MOVE.W  #SHPPOSY,D2
00001660  0642 000A               1092              ADD.W   #SHPHEIGH/2,D2
00001664  4EB8 11BA               1093              JSR     AGLADD
00001668                          1094              
00001668  0441 0064               1095              SUB.W   #SHPWIDTH,D1
0000166C  4EB8 11BA               1096              JSR     AGLADD
00001670  0C79 0014 00002788      1097              CMP.W   #SCODSTTL,(SCODST)
00001678  6D00 0010               1098              BLT     .END
0000167C                          1099              ; THREE SHOTS (NEXT LEVEL)
0000167C                          1100              
0000167C  3239 00002782           1101  .ONESHT     MOVE.W  (SHPPOSX),D1
00001682  343C 01AE               1102              MOVE.W  #SHPPOSY,D2
00001686  4EB8 11BA               1103              JSR     AGLADD
0000168A  4CDF 0E07               1104  .END        MOVEM.L (A7)+,D0-D2/A1-A3
0000168E                          1105  
0000168E  301F                    1106  .NOFIRE     MOVE.W  (A7)+,D0
00001690  4E75                    1107              RTS
00001692                          1108          
00001692                          1109  ; ------------------------------------------------------------------------------
00001692                          1110  SHPPLOT
00001692                          1111  ; PLOT THE SHIP
00001692                          1112  ; INPUT     : NONE
00001692                          1113  ; OUTPUT    : NONE
00001692                          1114  ; MODIFIES  : NONE
00001692                          1115  ; ------------------------------------------------------------------------------
00001692                          1116  
00001692  48E7 F800               1117              MOVEM.L D0-D4,-(A7)
00001696                          1118          
00001696                          1119              ; SET PEN COLOR
00001696  103C 0050               1120              MOVE.B  #80,D0
0000169A  223C 00D3D3D3           1121              MOVE.L  #SHPPCOL,D1
000016A0  4E4F                    1122              TRAP    #15
000016A2                          1123          
000016A2                          1124              ; SET FILL COLOR
000016A2  103C 0051               1125              MOVE.B  #81,D0
000016A6  223C 00D3D3D3           1126              MOVE.L  #SHPFCOL,D1
000016AC  4E4F                    1127              TRAP    #15
000016AE                          1128  
000016AE                          1129              ; DRAW SPACE SHIP
000016AE  103C 0054               1130              MOVE.B  #84,D0
000016B2  3239 00002782           1131              MOVE.W  (SHPPOSX),D1
000016B8  343C 01AE               1132              MOVE.W  #SHPPOSY,D2
000016BC  3601                    1133              MOVE.W  D1,D3
000016BE  0643 0032               1134              ADD.W   #SHPWIDTH/2,D3
000016C2  383C 01C2               1135              MOVE.W  #SHPPOSY+SHPHEIGH,D4
000016C6  4E4F                    1136              TRAP    #15
000016C8                          1137          
000016C8  103C 0055               1138              MOVE.B  #85,D0
000016CC  3203                    1139              MOVE.W  D3,D1
000016CE  3404                    1140              MOVE.W  D4,D2
000016D0  0442 000A               1141              SUB.W   #SHPHEIGH/2,D2
000016D4  4E4F                    1142              TRAP    #15
000016D6                          1143              
000016D6  0642 000A               1144              ADD.W   #SHPHEIGH/2,D2
000016DA  4E4F                    1145              TRAP    #15
000016DC                          1146              
000016DC  0441 0032               1147              SUB.W   #SHPWIDTH/2,D1
000016E0  5B42                    1148              SUB.W   #SHPHEIGH/4,D2
000016E2  4E4F                    1149              TRAP    #15
000016E4                          1150              
000016E4  0441 0032               1151              SUB.W   #SHPWIDTH/2,D1
000016E8  5842                    1152              ADD.W   #SHPHEIGH/5,D2
000016EA  4E4F                    1153              TRAP    #15
000016EC                          1154              
000016EC  0442 000A               1155              SUB.W   #SHPHEIGH/2,D2
000016F0  4E4F                    1156              TRAP    #15
000016F2                          1157              
000016F2  0642 000A               1158              ADD.W   #SHPHEIGH/2,D2
000016F6  4E4F                    1159              TRAP    #15
000016F8                          1160          
000016F8  3239 00002782           1161              MOVE.W  (SHPPOSX),D1
000016FE  343C 01AE               1162              MOVE.W  #SHPPOSY,D2
00001702  4E4F                    1163              TRAP    #15
00001704                          1164              
00001704  5942                    1165              SUB.W   #4,D2
00001706  4E4F                    1166              TRAP    #15
00001708                          1167          
00001708                          1168              ; FILL SPACE SHIP
00001708  103C 0059               1169              MOVE.B  #89,D0
0000170C  5A42                    1170              ADD.W   #5,D2
0000170E  4E4F                    1171              TRAP    #15
00001710                          1172          
00001710                          1173          
00001710  4CDF 001F               1174              MOVEM.L (A7)+,D0-D4
00001714                          1175          
00001714  4E75                    1176              RTS
00001716                          1177  
00001716                          1178  
00001716                          1179  
00001716                          1180  
00001716                          1181  
00001716                          1182  
00001716                          1183  
00001716                          1184  
00001716                          1185  
00001716                          1186  
00001716                          1187  
00001716                          1188  
00001716                          1189  
00001716                          1190  
00001716                          1191  
00001716                          1192  
00001716                          1193  
00001716                          1194  
00001716                          1195  
00001716                          1196  
00001716                          1197  -------------------- end include --------------------
00001716                          1198              INCLUDE "INTROSHIP.X68"
00001716                          1199  ; ==============================================================================
00001716                          1200  ; INTRO SHIP MANAGEMENT
00001716                          1201  ; ==============================================================================
00001716                          1202      
00001716                          1203  ; ------------------------------------------------------------------------------
00001716                          1204  ISHINIT
00001716                          1205  ; INITIALIZE INTRO SHIP
00001716                          1206  ; INPUT     : NONE
00001716                          1207  ; OUTPUT    : NONE
00001716                          1208  ; MODIFIES  : NONE
00001716                          1209  ; ------------------------------------------------------------------------------
00001716  4E75                    1210              RTS
00001718                          1211          
00001718                          1212  ; ------------------------------------------------------------------------------
00001718                          1213  ISHUPD
00001718                          1214  ; UPDATES THE INTRO SHIP
00001718                          1215  ; INPUT     : NONE
00001718                          1216  ; OUTPUT    : NONE
00001718                          1217  ; MODIFIES  : NONE
00001718                          1218  ; ------------------------------------------------------------------------------
00001718                          1219              
00001718  4E75                    1220              RTS
0000171A                          1221          
0000171A                          1222  ; ------------------------------------------------------------------------------
0000171A                          1223  ISHPLOT
0000171A                          1224  ; PLOTS THE INTRO SHIP
0000171A                          1225  ; INPUT     : NONE
0000171A                          1226  ; OUTPUT    : NONE
0000171A                          1227  ; MODIFIES  : NONE
0000171A                          1228  ; ------------------------------------------------------------------------------        
0000171A                          1229  
0000171A  48E7 F800               1230              MOVEM.L D0-D4,-(A7)
0000171E                          1231          
0000171E                          1232              ; SET PEN COLOR
0000171E  103C 0050               1233              MOVE.B  #80,D0
00001722  223C 00D3D3D3           1234              MOVE.L  #ISHPCOL,D1
00001728  4E4F                    1235              TRAP    #15
0000172A                          1236          
0000172A                          1237              ; SET FILL COLOR
0000172A  103C 0051               1238              MOVE.B  #81,D0
0000172E  223C 00D3D3D3           1239              MOVE.L  #ISHFCOL,D1
00001734  4E4F                    1240              TRAP    #15
00001736                          1241  
00001736                          1242              ; DRAW SPACE SHIP
00001736  103C 0054               1243              MOVE.B  #84,D0
0000173A  323C 0140               1244              MOVE.W  #ISHPOSX,D1
0000173E  343C 00FA               1245              MOVE.W  #ISHPOSY,D2
00001742  363C 01D6               1246              MOVE.W  #ISHPOSX+ISHWIDTH/2,D3
00001746  383C 0136               1247              MOVE.W  #ISHPOSY+ISHHEIGH,D4
0000174A  4E4F                    1248              TRAP    #15
0000174C                          1249          
0000174C  103C 0055               1250              MOVE.B  #85,D0
00001750  3203                    1251              MOVE.W  D3,D1
00001752  3404                    1252              MOVE.W  D4,D2
00001754  0442 001E               1253              SUB.W   #ISHHEIGH/2,D2
00001758  4E4F                    1254              TRAP    #15
0000175A                          1255              
0000175A  0642 001E               1256              ADD.W   #ISHHEIGH/2,D2
0000175E  4E4F                    1257              TRAP    #15
00001760                          1258              
00001760  0441 0096               1259              SUB.W   #ISHWIDTH/2,D1
00001764  0442 000F               1260              SUB.W   #ISHHEIGH/4,D2
00001768  4E4F                    1261              TRAP    #15
0000176A                          1262              
0000176A  0441 0096               1263              SUB.W   #ISHWIDTH/2,D1
0000176E  0642 000C               1264              ADD.W   #ISHHEIGH/5,D2
00001772  4E4F                    1265              TRAP    #15
00001774                          1266              
00001774  0442 001E               1267              SUB.W   #ISHHEIGH/2,D2
00001778  4E4F                    1268              TRAP    #15
0000177A                          1269              
0000177A  0642 001E               1270              ADD.W   #ISHHEIGH/2,D2
0000177E  4E4F                    1271              TRAP    #15
00001780                          1272          
00001780  323C 0140               1273              MOVE.W  #ISHPOSX,D1
00001784  343C 00FA               1274              MOVE.W  #ISHPOSY,D2
00001788  4E4F                    1275              TRAP    #15
0000178A                          1276          
0000178A                          1277              ; FILL SPACE SHIP
0000178A  103C 0059               1278              MOVE.B  #89,D0
0000178E  5A42                    1279              ADD.W   #5,D2
00001790  4E4F                    1280              TRAP    #15
00001792                          1281          
00001792                          1282          
00001792  4CDF 001F               1283              MOVEM.L (A7)+,D0-D4
00001796                          1284  
00001796  4E75                    1285              RTS
00001798                          1286  
00001798                          1287  
00001798                          1288  
00001798                          1289  
00001798                          1290  
00001798                          1291  
00001798                          1292  
00001798                          1293  
00001798                          1294  
00001798                          1295  
00001798                          1296  
00001798                          1297  
00001798                          1298  -------------------- end include --------------------
00001798                          1299              INCLUDE "ENEMIES.X68"
00001798                          1300  ; ==============================================================================
00001798                          1301  ; ENEMY MANAGEMENT (AGENT)
00001798                          1302  ; ENEPOSX (W)  (A0)
00001798                          1303  ; ENEPOSY (W) 2(A0)
00001798                          1304  ; ENEVELX (W) 4(A0)
00001798                          1305  ; ENEVELY (W) 6(A0)
00001798                          1306  ; ==============================================================================
00001798                          1307      
00001798                          1308  ; ------------------------------------------------------------------------------
00001798                          1309  ENEINIT
00001798                          1310  ; INITIALIZE SHOT
00001798                          1311  ; INPUT     : A0 POINTER TO THE LOCAL MEMORY
00001798                          1312  ; OUTPUT    : NONE
00001798                          1313  ; MODIFIES  : NONE
00001798                          1314  ; ------------------------------------------------------------------------------
00001798  48E7 8040               1315              MOVEM.L D0/A1,-(A7)
0000179C  30BC 0140               1316              MOVE.W  #SCRWIDTH/2,(A0)
000017A0  317C 000A 0002          1317              MOVE.W  #ENEHEIGH,2(A0)
000017A6  4EB8 129A               1318              JSR     UTLRAND                 ; HACE ALEATORIO EL SENTIDO
000017AA  C0BC 00000004           1319              AND.L   #$00000004,D0           ; EN EL QUE EMPIEZA
000017B0  43F9 000017C8           1320              LEA     .VELVEC,A1
000017B6  3171 0000 0004          1321              MOVE.W  (A1,D0),4(A0)
000017BC  317C 0001 0006          1322              MOVE.W  #ENEDSPD,6(A0)
000017C2  4CDF 0201               1323              MOVEM.L (A7)+,D0/A1
000017C6  4E75                    1324              RTS
000017C8                          1325              
000017C8= 0003 0000               1326  .VELVEC     DC.W    ENEHSPD,0               ;0
000017CC= FFFD 0000               1327              DC.W    -ENEHSPD,0              ;4
000017D0                          1328          
000017D0                          1329  ; ------------------------------------------------------------------------------
000017D0                          1330  ENEUPD
000017D0                          1331  ; UPDATES THE ENEMY
000017D0                          1332  ; INPUT     : A0 POINTER TO THE LOCAL MEMORY
000017D0                          1333  ; OUTPUT    : NONE
000017D0                          1334  ; MODIFIES  : NONE
000017D0                          1335  ; ------------------------------------------------------------------------------
000017D0                          1336              
000017D0  48A7 C000               1337              MOVEM.W D0-D1,-(A7)
000017D4                          1338          
000017D4                          1339              ; UPDATE ENEMY COORDINATES
000017D4  3010                    1340              MOVE.W  (A0),D0
000017D6  3228 0002               1341              MOVE.W  2(A0),D1
000017DA  D068 0004               1342              ADD.W   4(A0),D0
000017DE  D268 0006               1343              ADD.W   6(A0),D1
000017E2                          1344              
000017E2                          1345              ; CHECK HORIZONTAL COLLISIONS
000017E2  B07C 0267               1346              CMP.W   #SCRWIDTH-ENEWIDTH/2,D0
000017E6  6E00 0024               1347              BGT     .COLRGT
000017EA  B07C 0019               1348              CMP.W   #ENEWIDTH/2,D0
000017EE  6D00 0028               1349              BLT     .COLLFT
000017F2                          1350              
000017F2                          1351              ; CHECK VERTICAL COLLISIONS (LIMIT LINE)
000017F2  B27C 018B               1352              CMP.W   #LIMPOSY-ENEHEIGH/2,D1
000017F6  6D00 002C               1353              BLT     .DONE
000017FA  217C 00000000 0004      1354              MOVE.L  #0,4(A0)
00001802  5279 0000278C           1355              ADDQ.W  #1,(SCOENE)
00001808  6000 001A               1356              BRA     .DONE
0000180C                          1357              
0000180C                          1358              ; RIGHT SIDE COLLISIONS
0000180C  4468 0004               1359  .COLRGT     NEG.W   4(A0)
00001810  303C 0267               1360              MOVE.W  #SCRWIDTH-ENEWIDTH/2,D0
00001814  6000 000E               1361              BRA     .DONE
00001818                          1362  
00001818                          1363              ; LEFT SIDE COLLISIONS
00001818  4468 0004               1364  .COLLFT     NEG.W   4(A0)
0000181C  303C 0019               1365              MOVE.W  #ENEWIDTH/2,D0
00001820  6000 0002               1366              BRA     .DONE
00001824                          1367  
00001824                          1368              ; STORE POSITION
00001824  3080                    1369  .DONE       MOVE.W  D0,(A0)
00001826  3141 0002               1370              MOVE.W  D1,2(A0)
0000182A                          1371              
0000182A  1039 000027A1           1372              MOVE.B  (SCRCYCCT),D0
00001830  C03C 001F               1373              AND.B   #%00011111,D0
00001834  6600 0024               1374              BNE     .NOFIRE
00001838                          1375              
00001838  48E7 E070               1376              MOVEM.L A1-A3/D0-D2,-(A7)
0000183C  43F8 147C               1377              LEA     ESHINIT,A1
00001840  45F8 148C               1378              LEA     ESHUPD,A2
00001844  47F8 14EC               1379              LEA     ESHPLOT,A3
00001848  303C 0002               1380              MOVE.W  #ESHAGN,D0
0000184C  3210                    1381              MOVE.W  (A0),D1
0000184E  3428 0002               1382              MOVE.W  2(A0),D2
00001852  4EB8 11BA               1383              JSR     AGLADD
00001856  4CDF 0E07               1384              MOVEM.L (A7)+,A1-A3/D0-D2
0000185A                          1385  .NOFIRE
0000185A  4C9F 0003               1386              MOVEM.W (A7)+,D0-D1            
0000185E                          1387              
0000185E  4E75                    1388              RTS
00001860                          1389          
00001860                          1390  ; ------------------------------------------------------------------------------
00001860                          1391  ENEPLOT
00001860                          1392  ; PLOT THE ENEMY
00001860                          1393  ; INPUT     : A0 POINTER TO THE LOCAL MEMORY
00001860                          1394  ; OUTPUT    : NONE
00001860                          1395  ; MODIFIES  : NONE
00001860                          1396  ; ------------------------------------------------------------------------------
00001860  48E7 F800               1397              MOVEM.L D0-D4,-(A7)
00001864                          1398              
00001864                          1399              ; SET PEN COLOR
00001864  103C 0050               1400              MOVE.B  #80,D0
00001868  223C 00EEEEEE           1401              MOVE.L  #ENEPCOL,D1
0000186E  4E4F                    1402              TRAP    #15
00001870                          1403              
00001870                          1404              ; SET FILL COLOR
00001870  103C 0051               1405              MOVE.B  #81,D0
00001874  223C 00EEEEEE           1406              MOVE.L  #ENEFCOL,D1
0000187A  4E4F                    1407              TRAP    #15
0000187C                          1408  
0000187C                          1409              ; DRAW SPACE SHIP
0000187C  103C 0054               1410              MOVE.B  #84,D0
00001880  3210                    1411              MOVE.W  (A0),D1
00001882  3428 0002               1412              MOVE.W  2(A0),D2
00001886  3601                    1413              MOVE.W  D1,D3
00001888  0643 0019               1414              ADD.W   #ENEWIDTH/2,D3
0000188C  3828 0002               1415              MOVE.W  2(A0),D4
00001890  0444 000A               1416              SUB.W   #ENEHEIGH,D4
00001894  4E4F                    1417              TRAP    #15
00001896                          1418          
00001896  103C 0055               1419              MOVE.B  #85,D0
0000189A  3203                    1420              MOVE.W  D3,D1
0000189C  3404                    1421              MOVE.W  D4,D2
0000189E  5A42                    1422              ADD.W   #ENEHEIGH/2,D2
000018A0  4E4F                    1423              TRAP    #15
000018A2                          1424              
000018A2  5B42                    1425              SUB.W   #ENEHEIGH/2,D2
000018A4  4E4F                    1426              TRAP    #15
000018A6                          1427              
000018A6  0441 0019               1428              SUB.W   #ENEWIDTH/2,D1
000018AA  5442                    1429              ADD.W   #ENEHEIGH/4,D2
000018AC  4E4F                    1430              TRAP    #15
000018AE                          1431              
000018AE  0441 0019               1432              SUB.W   #ENEWIDTH/2,D1
000018B2  5542                    1433              SUB.W   #ENEHEIGH/5,D2
000018B4  4E4F                    1434              TRAP    #15
000018B6                          1435              
000018B6  5A42                    1436              ADD.W   #ENEHEIGH/2,D2
000018B8  4E4F                    1437              TRAP    #15
000018BA                          1438              
000018BA  5B42                    1439              SUB.W   #ENEHEIGH/2,D2
000018BC  4E4F                    1440              TRAP    #15
000018BE                          1441          
000018BE  3210                    1442              MOVE.W  (A0),D1
000018C0  3428 0002               1443              MOVE.W  2(A0),D2
000018C4  4E4F                    1444              TRAP    #15
000018C6                          1445              
000018C6  5842                    1446              ADD.W   #4,D2
000018C8  4E4F                    1447              TRAP    #15
000018CA                          1448  
000018CA                          1449              ; FILL SPACE SHIP
000018CA  103C 0059               1450              MOVE.B  #89,D0
000018CE  5B42                    1451              SUB.W   #5,D2
000018D0  4E4F                    1452              TRAP    #15
000018D2                          1453              
000018D2  4CDF 001F               1454              MOVEM.L (A7)+,D0-D4
000018D6                          1455  
000018D6  4E75                    1456              RTS
000018D8                          1457              
000018D8                          1458              
000018D8                          1459  ; ------------------------------------------------------------------------------
000018D8                          1460  ENEXPLO
000018D8                          1461  ; EXPLODES AN ENEMY
000018D8                          1462  ; INPUT     : A0 POINTER TO THE LOCAL MEMORY
000018D8                          1463  ; OUTPUT    : NONE
000018D8                          1464  ; MODIFIES  : NONE
000018D8                          1465  ; ------------------------------------------------------------------------------
000018D8  48E7 E070               1466              MOVEM.L A1-A3/D0-D2,-(A7)
000018DC  43F9 00001B10           1467              LEA     EXPINIT,A1
000018E2  45F9 00001B30           1468              LEA     EXPUPD,A2
000018E8  47F9 00001B52           1469              LEA     EXPPLOT,A3
000018EE  3038 0004               1470              MOVE.W  EXPAGN,D0
000018F2  3210                    1471              MOVE.W  (A0),D1
000018F4  3428 0002               1472              MOVE.W  2(A0),D2
000018F8  5B42                    1473              SUB.W   #ENEHEIGH/2,D2
000018FA  4EB8 11BA               1474              JSR     AGLADD
000018FE  4EB8 10AC               1475              JSR     AGLKILL
00001902  4CDF 0E07               1476              MOVEM.L (A7)+,A1-A3/D0-D2
00001906  4E75                    1477              RTS
00001908                          1478  
00001908                          1479  
00001908                          1480  
00001908                          1481  
00001908                          1482  
00001908                          1483  
00001908                          1484  
00001908                          1485  -------------------- end include --------------------
00001908                          1486              INCLUDE "ENEMIESATTRACT.X68"
00001908                          1487  ; ==============================================================================
00001908                          1488  ; ATTRACT MODE ENEMY MANAGEMENT (AGENT)
00001908                          1489  ; ENEPOSX (W)  (A0)
00001908                          1490  ; ENEPOSY (W) 2(A0)
00001908                          1491  ; ENEVELX (W) 4(A0)
00001908                          1492  ; ENEVELY (W) 6(A0)
00001908                          1493  ; ==============================================================================
00001908                          1494      
00001908                          1495  ; ------------------------------------------------------------------------------
00001908                          1496  ENEAINIT
00001908                          1497  ; INITIALIZE SHOT
00001908                          1498  ; INPUT     : A0 POINTER TO THE LOCAL MEMORY
00001908                          1499  ; OUTPUT    : NONE
00001908                          1500  ; MODIFIES  : NONE
00001908                          1501  ; ------------------------------------------------------------------------------
00001908  30BC 0140               1502              MOVE.W  #SCRWIDTH/2,(A0)
0000190C  317C 000A 0002          1503              MOVE.W  #ENEHEIGH,2(A0)
00001912  317C 0003 0004          1504              MOVE.W  #ENEHSPD,4(A0)
00001918  317C 0001 0006          1505              MOVE.W  #ENEDSPD,6(A0)
0000191E  4E75                    1506              RTS
00001920                          1507  
00001920                          1508          
00001920                          1509  ; ------------------------------------------------------------------------------
00001920                          1510  ENEAUPD
00001920                          1511  ; UPDATES THE ENEMY
00001920                          1512  ; INPUT     : A0 POINTER TO THE LOCAL MEMORY
00001920                          1513  ; OUTPUT    : NONE
00001920                          1514  ; MODIFIES  : NONE
00001920                          1515  ; ------------------------------------------------------------------------------
00001920                          1516              
00001920  48A7 C000               1517              MOVEM.W D0-D1,-(A7)
00001924                          1518          
00001924                          1519              ; UPDATE ENEMY COORDINATES
00001924  3010                    1520              MOVE.W  (A0),D0
00001926  3228 0002               1521              MOVE.W  2(A0),D1
0000192A  D068 0004               1522              ADD.W   4(A0),D0
0000192E  D268 0006               1523              ADD.W   6(A0),D1
00001932                          1524              
00001932                          1525              ; CHECK HORIZONTAL COLLISIONS
00001932  B07C 0267               1526              CMP.W   #SCRWIDTH-ENEWIDTH/2,D0
00001936  6E00 0024               1527              BGT     .COLRGT
0000193A  B07C 0019               1528              CMP.W   #ENEWIDTH/2,D0
0000193E  6D00 0028               1529              BLT     .COLLFT
00001942                          1530              
00001942                          1531              ; CHECK VERTICAL COLLISIONS (LIMIT LINE)
00001942  B27C 018B               1532              CMP.W   #LIMPOSY-ENEHEIGH/2,D1
00001946  6D00 002C               1533              BLT     .DONE
0000194A  217C 00000000 0004      1534              MOVE.L  #0,4(A0)
00001952  5279 0000278C           1535              ADDQ.W  #1,(SCOENE)
00001958  6000 001A               1536              BRA     .DONE
0000195C                          1537              
0000195C                          1538              ; RIGHT SIDE COLLISIONS
0000195C  4468 0004               1539  .COLRGT     NEG.W   4(A0)
00001960  303C 0267               1540              MOVE.W  #SCRWIDTH-ENEWIDTH/2,D0
00001964  6000 000E               1541              BRA     .DONE
00001968                          1542  
00001968                          1543              ; LEFT SIDE COLLISIONS
00001968  4468 0004               1544  .COLLFT     NEG.W   4(A0)
0000196C  303C 0019               1545              MOVE.W  #ENEWIDTH/2,D0
00001970  6000 0002               1546              BRA     .DONE
00001974                          1547  
00001974                          1548              ; STORE POSITION
00001974  3080                    1549  .DONE       MOVE.W  D0,(A0)
00001976  3141 0002               1550              MOVE.W  D1,2(A0)
0000197A                          1551              
0000197A  1039 000027A1           1552              MOVE.B  (SCRCYCCT),D0
00001980  C03C 001F               1553              AND.B   #%00011111,D0
00001984  6600 0024               1554              BNE     .NOFIRE
00001988                          1555              
00001988  48E7 E070               1556              MOVEM.L A1-A3/D0-D2,-(A7)
0000198C  43F8 147C               1557              LEA     ESHINIT,A1
00001990  45F8 148C               1558              LEA     ESHUPD,A2
00001994  47F8 14EC               1559              LEA     ESHPLOT,A3
00001998  303C 0002               1560              MOVE.W  #ESHAGN,D0
0000199C  3210                    1561              MOVE.W  (A0),D1
0000199E  3428 0002               1562              MOVE.W  2(A0),D2
000019A2  4EB8 11BA               1563              JSR     AGLADD
000019A6  4CDF 0E07               1564              MOVEM.L (A7)+,A1-A3/D0-D2
000019AA                          1565  .NOFIRE
000019AA  4C9F 0003               1566              MOVEM.W (A7)+,D0-D1            
000019AE                          1567              
000019AE  4E75                    1568              RTS
000019B0                          1569          
000019B0                          1570  ; ------------------------------------------------------------------------------
000019B0                          1571  ENEAPLOT
000019B0                          1572  ; PLOT THE ENEMY
000019B0                          1573  ; INPUT     : A0 POINTER TO THE LOCAL MEMORY
000019B0                          1574  ; OUTPUT    : NONE
000019B0                          1575  ; MODIFIES  : NONE
000019B0                          1576  ; ------------------------------------------------------------------------------
000019B0  48E7 F800               1577              MOVEM.L D0-D4,-(A7)
000019B4                          1578              
000019B4                          1579              ; SET PEN COLOR
000019B4  103C 0050               1580              MOVE.B  #80,D0
000019B8  223C 00EEEEEE           1581              MOVE.L  #ENEPCOL,D1
000019BE  4E4F                    1582              TRAP    #15
000019C0                          1583              
000019C0                          1584              ; SET FILL COLOR
000019C0  103C 0051               1585              MOVE.B  #81,D0
000019C4  223C 00EEEEEE           1586              MOVE.L  #ENEFCOL,D1
000019CA  4E4F                    1587              TRAP    #15
000019CC                          1588  
000019CC                          1589              ; DRAW SPACE SHIP
000019CC  103C 0054               1590              MOVE.B  #84,D0
000019D0  3210                    1591              MOVE.W  (A0),D1
000019D2  3428 0002               1592              MOVE.W  2(A0),D2
000019D6  3601                    1593              MOVE.W  D1,D3
000019D8  0643 0019               1594              ADD.W   #ENEWIDTH/2,D3
000019DC  3828 0002               1595              MOVE.W  2(A0),D4
000019E0  0444 000A               1596              SUB.W   #ENEHEIGH,D4
000019E4  4E4F                    1597              TRAP    #15
000019E6                          1598          
000019E6  103C 0055               1599              MOVE.B  #85,D0
000019EA  3203                    1600              MOVE.W  D3,D1
000019EC  3404                    1601              MOVE.W  D4,D2
000019EE  5A42                    1602              ADD.W   #ENEHEIGH/2,D2
000019F0  4E4F                    1603              TRAP    #15
000019F2                          1604              
000019F2  5B42                    1605              SUB.W   #ENEHEIGH/2,D2
000019F4  4E4F                    1606              TRAP    #15
000019F6                          1607              
000019F6  0441 0019               1608              SUB.W   #ENEWIDTH/2,D1
000019FA  5442                    1609              ADD.W   #ENEHEIGH/4,D2
000019FC  4E4F                    1610              TRAP    #15
000019FE                          1611              
000019FE  0441 0019               1612              SUB.W   #ENEWIDTH/2,D1
00001A02  5542                    1613              SUB.W   #ENEHEIGH/5,D2
00001A04  4E4F                    1614              TRAP    #15
00001A06                          1615              
00001A06  5A42                    1616              ADD.W   #ENEHEIGH/2,D2
00001A08  4E4F                    1617              TRAP    #15
00001A0A                          1618              
00001A0A  5B42                    1619              SUB.W   #ENEHEIGH/2,D2
00001A0C  4E4F                    1620              TRAP    #15
00001A0E                          1621          
00001A0E  3210                    1622              MOVE.W  (A0),D1
00001A10  3428 0002               1623              MOVE.W  2(A0),D2
00001A14  4E4F                    1624              TRAP    #15
00001A16                          1625              
00001A16  5842                    1626              ADD.W   #4,D2
00001A18  4E4F                    1627              TRAP    #15
00001A1A                          1628  
00001A1A                          1629              ; FILL SPACE SHIP
00001A1A  103C 0059               1630              MOVE.B  #89,D0
00001A1E  5B42                    1631              SUB.W   #5,D2
00001A20  4E4F                    1632              TRAP    #15
00001A22                          1633              
00001A22  4CDF 001F               1634              MOVEM.L (A7)+,D0-D4
00001A26                          1635  
00001A26  4E75                    1636              RTS
00001A28                          1637              
00001A28                          1638              
00001A28                          1639  ; ------------------------------------------------------------------------------
00001A28                          1640  ENEAXPLO
00001A28                          1641  ; EXPLODES AN ENEMY
00001A28                          1642  ; INPUT     : A0 POINTER TO THE LOCAL MEMORY
00001A28                          1643  ; OUTPUT    : NONE
00001A28                          1644  ; MODIFIES  : NONE
00001A28                          1645  ; ------------------------------------------------------------------------------
00001A28  48E7 E070               1646              MOVEM.L A1-A3/D0-D2,-(A7)
00001A2C  43F9 00001B10           1647              LEA     EXPINIT,A1
00001A32  45F9 00001B30           1648              LEA     EXPUPD,A2
00001A38  47F9 00001B52           1649              LEA     EXPPLOT,A3
00001A3E  3038 0004               1650              MOVE.W  EXPAGN,D0
00001A42  3210                    1651              MOVE.W  (A0),D1
00001A44  3428 0002               1652              MOVE.W  2(A0),D2
00001A48  5B42                    1653              SUB.W   #ENEHEIGH/2,D2
00001A4A  4EB8 11BA               1654              JSR     AGLADD
00001A4E  4EB8 10AC               1655              JSR     AGLKILL
00001A52  4CDF 0E07               1656              MOVEM.L (A7)+,A1-A3/D0-D2
00001A56  4E75                    1657              RTS
00001A58                          1658  
00001A58                          1659  
00001A58                          1660  
00001A58                          1661  
00001A58                          1662  
00001A58                          1663  
00001A58                          1664  -------------------- end include --------------------
00001A58                          1665              INCLUDE "SPAWNER.X68"
00001A58                          1666  ; ==============================================================================
00001A58                          1667  ; SPAWNER MANAGEMENT
00001A58                          1668  ; ==============================================================================
00001A58                          1669          
00001A58                          1670  ; ------------------------------------------------------------------------------
00001A58                          1671  SPWUPD
00001A58                          1672  ; UPDATES THE SPAWNER
00001A58                          1673  ; INPUT     : NONE
00001A58                          1674  ; OUTPUT    : NONE
00001A58                          1675  ; MODIFIES  : NONE
00001A58                          1676  ; ------------------------------------------------------------------------------                       
00001A58                          1677              
00001A58  48E7 8070               1678              MOVEM.L D0/A1-A3,-(A7)
00001A5C                          1679              ; THE LONGER THE GAME, THE HARDER IT GETS
00001A5C                          1680              ; ENEMY AGENT CREATOR
00001A5C  1039 000027A1           1681              MOVE.B  (SCRCYCCT),D0
00001A62  0C79 000A 00002788      1682              CMP.W   #SCODSTSL,(SCODST)
00001A6A  6D00 0026               1683              BLT     .FLEVEL
00001A6E  0C79 0014 00002788      1684              CMP.W   #SCODSTTL,(SCODST)
00001A76  6D00 000E               1685              BLT     .SLEVEL
00001A7A                          1686              ; THIRD LEVEL
00001A7A  C03C 001F               1687              AND.B   #SPWMSKTL,D0
00001A7E  6600 002E               1688              BNE     .END
00001A82  6000 0016               1689              BRA     .AGNT
00001A86                          1690              
00001A86                          1691              ; SECOND LEVEL
00001A86  C03C 003F               1692  .SLEVEL     AND.B   #SPWMSKSL,D0
00001A8A  6600 0022               1693              BNE     .END
00001A8E  6000 000A               1694              BRA     .AGNT
00001A92                          1695              
00001A92                          1696              ; FIRST LEVEL
00001A92  C03C 007F               1697  .FLEVEL     AND.B   #SPWMSKFL,D0
00001A96  6600 0016               1698              BNE     .END
00001A9A  43F8 1798               1699  .AGNT       LEA     ENEINIT,A1
00001A9E  45F8 17D0               1700              LEA     ENEUPD,A2
00001AA2  47F8 1860               1701              LEA     ENEPLOT,A3
00001AA6  303C 0003               1702              MOVE.W  #ENEAGN,D0
00001AAA  4EB8 11BA               1703              JSR     AGLADD
00001AAE                          1704              
00001AAE  4CDF 0E01               1705  .END        MOVEM.L (A7)+,D0/A1-A3           
00001AB2  4E75                    1706              RTS
00001AB4                          1707          
00001AB4                          1708  
00001AB4                          1709         
00001AB4                          1710  
00001AB4                          1711  
00001AB4                          1712  
00001AB4                          1713  
00001AB4                          1714  
00001AB4                          1715  
00001AB4                          1716  
00001AB4                          1717  
00001AB4                          1718  
00001AB4                          1719  
00001AB4                          1720  
00001AB4                          1721  
00001AB4                          1722  
00001AB4                          1723  
00001AB4                          1724  -------------------- end include --------------------
00001AB4                          1725              INCLUDE "SPAWNERATTRACT.X68"
00001AB4                          1726  ; ==============================================================================
00001AB4                          1727  ; ATTRACT MODE SPAWNER MANAGEMENT
00001AB4                          1728  ; ==============================================================================
00001AB4                          1729          
00001AB4                          1730  ; ------------------------------------------------------------------------------
00001AB4                          1731  SPWAUPD
00001AB4                          1732  ; UPDATES THE SPAWNER
00001AB4                          1733  ; INPUT     : NONE
00001AB4                          1734  ; OUTPUT    : NONE
00001AB4                          1735  ; MODIFIES  : NONE
00001AB4                          1736  ; ------------------------------------------------------------------------------                       
00001AB4                          1737              
00001AB4  48E7 8070               1738              MOVEM.L D0/A1-A3,-(A7)
00001AB8                          1739              ; THE LONGER THE GAME, THE HARDER IT GETS
00001AB8                          1740              ; ENEMY AGENT CREATOR
00001AB8  1039 000027A1           1741              MOVE.B  (SCRCYCCT),D0
00001ABE  0C79 000A 00002788      1742              CMP.W   #SCODSTSL,(SCODST)
00001AC6  6D00 0026               1743              BLT     .FLEVEL
00001ACA  0C79 0014 00002788      1744              CMP.W   #SCODSTTL,(SCODST)
00001AD2  6D00 000E               1745              BLT     .SLEVEL
00001AD6                          1746              ; THIRD LEVEL
00001AD6  C03C 001F               1747              AND.B   #SPWMSKTL,D0
00001ADA  6600 002E               1748              BNE     .END
00001ADE  6000 0016               1749              BRA     .AGNT
00001AE2                          1750              
00001AE2                          1751              ; SECOND LEVEL
00001AE2  C03C 003F               1752  .SLEVEL     AND.B   #SPWMSKSL,D0
00001AE6  6600 0022               1753              BNE     .END
00001AEA  6000 000A               1754              BRA     .AGNT
00001AEE                          1755              
00001AEE                          1756              ; FIRST LEVEL
00001AEE  C03C 007F               1757  .FLEVEL     AND.B   #SPWMSKFL,D0
00001AF2  6600 0016               1758              BNE     .END
00001AF6  43F8 1908               1759  .AGNT       LEA     ENEAINIT,A1
00001AFA  45F8 1920               1760              LEA     ENEAUPD,A2
00001AFE  47F8 19B0               1761              LEA     ENEAPLOT,A3
00001B02  303C 0003               1762              MOVE.W  #ENEAGN,D0
00001B06  4EB8 11BA               1763              JSR     AGLADD
00001B0A                          1764              
00001B0A  4CDF 0E01               1765  .END        MOVEM.L (A7)+,D0/A1-A3           
00001B0E  4E75                    1766              RTS
00001B10                          1767          
00001B10                          1768  
00001B10                          1769         
00001B10                          1770  
00001B10                          1771  
00001B10                          1772  
00001B10                          1773  
00001B10                          1774  
00001B10                          1775  
00001B10                          1776  
00001B10                          1777  
00001B10                          1778  
00001B10                          1779  
00001B10                          1780  
00001B10                          1781  
00001B10                          1782  
00001B10                          1783  
00001B10                          1784              
00001B10                          1785  -------------------- end include --------------------
00001B10                          1786              INCLUDE "EXPLOSION.X68"
00001B10                          1787  ; ==============================================================================
00001B10                          1788  ; EXPLOSION MANAGEMENT (AGENT)
00001B10                          1789  ; EXPPOSX (W)  (A0)
00001B10                          1790  ; EXPPOSY (W) 2(A0)
00001B10                          1791  ; ==============================================================================
00001B10                          1792      
00001B10                          1793  ; ------------------------------------------------------------------------------
00001B10                          1794  EXPINIT
00001B10                          1795  ; INITIALIZE EXPLOSION
00001B10                          1796  ; INPUT     : A0 POINTER TO THE INSTANCE VARIABLES
00001B10                          1797  ;             D1 X COORDINATE
00001B10                          1798  ;             D2 Y COORDINATE
00001B10                          1799  ; OUTPUT    : NONE
00001B10                          1800  ; MODIFIES  : NONE
00001B10                          1801  ; ------------------------------------------------------------------------------
00001B10  48A7 6000               1802              MOVEM.W D1-D2,-(A7)
00001B14  3081                    1803              MOVE.W  D1,(A0)
00001B16  3142 0002               1804              MOVE.W  D2,2(A0)
00001B1A  4C9F 0006               1805              MOVEM.W (A7)+,D1-D2
00001B1E  33FC 0005 00002784      1806              MOVE.W  #5,(EXPRAD)
00001B26  33FC 0001 00002786      1807              MOVE.W  #1,(LEXPRAD)
00001B2E  4E75                    1808              RTS
00001B30                          1809          
00001B30                          1810  ; ------------------------------------------------------------------------------
00001B30                          1811  EXPUPD
00001B30                          1812  ; UPDATES THE EXPLOSION
00001B30                          1813  ; INPUT     : A0 POINTER TO THE INSTANCE VARIABLES
00001B30                          1814  ; OUTPUT    : NONE
00001B30                          1815  ; MODIFIES  : NONE
00001B30                          1816  ; ------------------------------------------------------------------------------
00001B30  0C79 000F 00002784      1817              CMP.W   #EXPMXRAD,(EXPRAD)
00001B38  6700 0012               1818              BEQ     .KILL
00001B3C  5279 00002784           1819              ADDQ.W  #1,(EXPRAD)
00001B42  5279 00002786           1820              ADDQ.W  #1,(LEXPRAD)
00001B48  6000 0006               1821              BRA     .END
00001B4C  4EB8 10AC               1822  .KILL       JSR     AGLKILL
00001B50  4E75                    1823  .END        RTS
00001B52                          1824          
00001B52                          1825  ; ------------------------------------------------------------------------------
00001B52                          1826  EXPPLOT
00001B52                          1827  ; PLOT THE EXPLOSION
00001B52                          1828  ; INPUT     : A0 POINTER TO THE INSTANCE VARIABLES
00001B52                          1829  ; OUTPUT    : NONE
00001B52                          1830  ; MODIFIES  : NONE
00001B52                          1831  ; ------------------------------------------------------------------------------
00001B52                          1832          
00001B52  48E7 F800               1833              MOVEM.L D0-D4,-(A7)
00001B56                          1834          
00001B56                          1835              ; SET PEN COLOR
00001B56  103C 0050               1836              MOVE.B  #80,D0
00001B5A  223C 000011FF           1837              MOVE.L  #EXPPCOL,D1
00001B60  4E4F                    1838              TRAP    #15
00001B62                          1839          
00001B62                          1840              ; SET FILL COLOR
00001B62  103C 0051               1841              MOVE.B  #81,D0
00001B66  223C 000011FF           1842              MOVE.L  #EXPFCOL,D1
00001B6C  4E4F                    1843              TRAP    #15
00001B6E                          1844          
00001B6E                          1845              ; DEFINE COORDINATES
00001B6E  3210                    1846              MOVE.W  (A0),D1
00001B70  9279 00002784           1847              SUB.W   (EXPRAD),D1
00001B76  3428 0002               1848              MOVE.W  2(A0),D2
00001B7A  9479 00002784           1849              SUB.W   (EXPRAD),D2
00001B80  3601                    1850              MOVE.W  D1,D3
00001B82  D679 00002784           1851              ADD.W   (EXPRAD),D3
00001B88  D679 00002784           1852              ADD.W   (EXPRAD),D3
00001B8E  3802                    1853              MOVE.W  D2,D4
00001B90  D879 00002784           1854              ADD.W   (EXPRAD),D4
00001B96  D879 00002784           1855              ADD.W   (EXPRAD),D4
00001B9C                          1856              
00001B9C                          1857              ; DRAW CIRCLE
00001B9C  103C 0058               1858              MOVE.B  #88,D0
00001BA0  4E4F                    1859              TRAP    #15
00001BA2                          1860              
00001BA2                          1861              ; SET FILL COLOR FOR LITTLE EXPLOSION
00001BA2  103C 0051               1862              MOVE.B  #81,D0
00001BA6  223C 000066FF           1863              MOVE.L  #LEXPFCOL,D1
00001BAC  4E4F                    1864              TRAP    #15
00001BAE                          1865              
00001BAE                          1866              ; DEFINE COORDINATES
00001BAE  3210                    1867              MOVE.W  (A0),D1
00001BB0  9279 00002786           1868              SUB.W   (LEXPRAD),D1
00001BB6  3428 0002               1869              MOVE.W  2(A0),D2
00001BBA  9479 00002786           1870              SUB.W   (LEXPRAD),D2
00001BC0  3601                    1871              MOVE.W  D1,D3
00001BC2  D679 00002786           1872              ADD.W   (LEXPRAD),D3
00001BC8  D679 00002786           1873              ADD.W   (LEXPRAD),D3
00001BCE  3802                    1874              MOVE.W  D2,D4
00001BD0  D879 00002786           1875              ADD.W   (LEXPRAD),D4
00001BD6  D879 00002786           1876              ADD.W   (LEXPRAD),D4
00001BDC                          1877              
00001BDC                          1878              ; DRAW CIRCLE
00001BDC  103C 0058               1879              MOVE.B  #88,D0
00001BE0  4E4F                    1880              TRAP    #15
00001BE2                          1881              
00001BE2  4CDF 001F               1882              MOVEM.L (A7)+,D0-D4
00001BE6                          1883  
00001BE6  4E75                    1884              RTS
00001BE8                          1885  
00001BE8                          1886  
00001BE8                          1887  
00001BE8                          1888  
00001BE8                          1889  
00001BE8                          1890  
00001BE8                          1891  
00001BE8                          1892              
00001BE8                          1893  
00001BE8                          1894  -------------------- end include --------------------
00001BE8                          1895              INCLUDE "SCENARY.X68"
00001BE8                          1896  ; ==============================================================================
00001BE8                          1897  ; SCENARY MANAGEMENT
00001BE8                          1898  ; ==============================================================================
00001BE8                          1899           
00001BE8                          1900  ; ------------------------------------------------------------------------------
00001BE8                          1901  SCEPLOT
00001BE8                          1902  ; PLOT THE SCENARY
00001BE8                          1903  ; INPUT     : NONE
00001BE8                          1904  ; OUTPUT    : NONE
00001BE8                          1905  ; MODIFIES  : NONE
00001BE8                          1906  ; ------------------------------------------------------------------------------
00001BE8                          1907  
00001BE8                          1908              ; SET PEN COLOR
00001BE8  103C 0050               1909              MOVE.B  #80,D0
00001BEC  223C 00888888           1910              MOVE.L  #SCEPCOL,D1
00001BF2  4E4F                    1911              TRAP    #15
00001BF4                          1912              
00001BF4  4243                    1913              CLR.W   D3
00001BF6  363C 0032               1914              MOVE.W  #SCENMB,D3
00001BFA  4280                    1915  .LOOP       CLR.L   D0
00001BFC  4EB8 129A               1916              JSR     UTLRAND
00001C00  3200                    1917              MOVE.W  D0,D1
00001C02  D240                    1918              ADD.W   D0,D1
00001C04  D240                    1919              ADD.W   D0,D1
00001C06  4EB8 129A               1920              JSR     UTLRAND
00001C0A  3400                    1921              MOVE.W  D0,D2
00001C0C  D440                    1922              ADD.W   D0,D2
00001C0E  4280                    1923              CLR.L   D0
00001C10  103C 0052               1924              MOVE.B  #82,D0
00001C14  4E4F                    1925              TRAP    #15
00001C16  51CB FFE2               1926              DBRA    D3,.LOOP
00001C1A                          1927                   
00001C1A  4E75                    1928              RTS
00001C1C                          1929  
00001C1C                          1930  
00001C1C                          1931  
00001C1C                          1932  
00001C1C                          1933  
00001C1C                          1934  
00001C1C                          1935  
00001C1C                          1936  
00001C1C                          1937  
00001C1C                          1938  
00001C1C                          1939  
00001C1C                          1940  
00001C1C                          1941  
00001C1C                          1942  
00001C1C                          1943  
00001C1C                          1944  
00001C1C                          1945  
00001C1C                          1946  
00001C1C                          1947  
00001C1C                          1948  
00001C1C                          1949  -------------------- end include --------------------
00001C1C                          1950              INCLUDE "LIMITLINE.X68"
00001C1C                          1951  ; ==============================================================================
00001C1C                          1952  ; LIMIT LINE MANAGEMENT
00001C1C                          1953  ; ==============================================================================
00001C1C                          1954          
00001C1C                          1955  ; ------------------------------------------------------------------------------
00001C1C                          1956  LIMPLOT
00001C1C                          1957  ; PLOTS THE LIMIT LINE
00001C1C                          1958  ; INPUT     : NONE
00001C1C                          1959  ; OUTPUT    : NONE
00001C1C                          1960  ; MODIFIES  : NONE
00001C1C                          1961  ; ------------------------------------------------------------------------------
00001C1C  48E7 F800               1962              MOVEM.L D0-D4,-(A7)
00001C20                          1963              
00001C20                          1964              ; SET PEN COLOR
00001C20  103C 0050               1965              MOVE.B  #80,D0
00001C24  223C 000000FF           1966              MOVE.L  #LIMPCOL,D1
00001C2A  4E4F                    1967              TRAP    #15
00001C2C                          1968              
00001C2C                          1969              ; DRAW LINE
00001C2C  103C 0054               1970              MOVE.B  #84,D0
00001C30  323C 0000               1971              MOVE.W  #LIMPOSX,D1
00001C34  343C 0190               1972              MOVE.W  #LIMPOSY,D2
00001C38  3601                    1973              MOVE.W  D1,D3
00001C3A  0643 0280               1974              ADD.W   #LIMWIDTH,D3
00001C3E  3802                    1975              MOVE.W  D2,D4
00001C40  4E4F                    1976              TRAP    #15
00001C42                          1977              
00001C42  4CDF 001F               1978              MOVEM.L (A7)+,D0-D4
00001C46                          1979  
00001C46  4E75                    1980              RTS
00001C48                          1981  
00001C48                          1982  
00001C48                          1983  
00001C48                          1984  
00001C48                          1985  
00001C48                          1986  
00001C48                          1987  -------------------- end include --------------------
00001C48                          1988              INCLUDE "SCORE.X68"
00001C48                          1989  ; ==============================================================================
00001C48                          1990  ; SCOREBOARD MANAGEMENT
00001C48                          1991  ; ==============================================================================
00001C48                          1992  
00001C48                          1993  ; ------------------------------------------------------------------------------
00001C48                          1994  SCOINIT
00001C48                          1995  ; INITIALIZE SCOREBOARD
00001C48                          1996  ; INPUT     : NONE
00001C48                          1997  ; OUTPUT    : NONE
00001C48                          1998  ; MODIFIES  : NONE
00001C48                          1999  ; ------------------------------------------------------------------------------
00001C48  4279 00002788           2000              CLR.W   (SCODST)
00001C4E  4279 0000278A           2001              CLR.W   (SCOHIT)
00001C54  4279 0000278C           2002              CLR.W   (SCOENE)
00001C5A  4E75                    2003              RTS
00001C5C                          2004          
00001C5C                          2005  ; ------------------------------------------------------------------------------
00001C5C                          2006  SCOPLOT
00001C5C                          2007  ; PLOT THE SCOREBOARD
00001C5C                          2008  ; INPUT     : NONE
00001C5C                          2009  ; OUTPUT    : NONE
00001C5C                          2010  ; MODIFIES  : NONE
00001C5C                          2011  ; ------------------------------------------------------------------------------
00001C5C                          2012          
00001C5C  48E7 C040               2013              MOVEM.L D0-D1/A1,-(A7)
00001C60                          2014  
00001C60                          2015              ; SET BACKGROUND COLOR
00001C60  103C 0051               2016              MOVE.B  #81,D0
00001C64  7200                    2017              MOVE.L  #SCOFCOL,D1
00001C66  4E4F                    2018              TRAP    #15
00001C68                          2019          
00001C68                          2020              ; SET LINE POSITION
00001C68  103C 000B               2021              MOVE.B  #11,D0
00001C6C  323C 0101               2022              MOVE.W  #SCOLINE1,D1
00001C70  4E4F                    2023              TRAP    #15
00001C72                          2024          
00001C72                          2025              ; PRINT LINE
00001C72  43F9 00001CAA           2026              LEA     .TXT1,A1
00001C78  4281                    2027              CLR.L   D1
00001C7A  3239 00002788           2028              MOVE.W  (SCODST),D1
00001C80  103C 0011               2029              MOVE.B  #17,D0
00001C84  4E4F                    2030              TRAP    #15
00001C86                          2031              
00001C86                          2032              ; SET SECOND LINE POSITION
00001C86  103C 000B               2033              MOVE.B  #11,D0
00001C8A  323C 0102               2034              MOVE.W  #SCOLINE2,D1
00001C8E  4E4F                    2035              TRAP    #15
00001C90                          2036  
00001C90                          2037              ; PRINT SECOND LINE
00001C90  43F9 00001CB4           2038              LEA     .TXT2,A1
00001C96  4281                    2039              CLR.L   D1
00001C98  3239 0000278A           2040              MOVE.W  (SCOHIT),D1
00001C9E  103C 0011               2041              MOVE.B  #17,D0
00001CA2  4E4F                    2042              TRAP    #15
00001CA4                          2043          
00001CA4  4CDF 0203               2044              MOVEM.L (A7)+,D0-D1/A1
00001CA8                          2045          
00001CA8  4E75                    2046              RTS
00001CAA= 53 43 4F 52 45 20 ...   2047  .TXT1       DC.B    'SCORE  : ',0
00001CB4= 48 49 54 53 20 20 ...   2048  .TXT2       DC.B    'HITS   : ',0
00001CBE                          2049  
00001CBE                          2050  
00001CBE                          2051  
00001CBE                          2052  
00001CBE                          2053  
00001CBE                          2054  
00001CBE                          2055  
00001CBE                          2056  
00001CBE                          2057  
00001CBE                          2058  
00001CBE                          2059  -------------------- end include --------------------
00001CBE                          2060              INCLUDE "GAME.X68"
00001CBE                          2061  ; ==============================================================================
00001CBE                          2062  ; GAME MANAGEMENT
00001CBE                          2063  ; ==============================================================================
00001CBE                          2064      
00001CBE                          2065  ; ------------------------------------------------------------------------------
00001CBE                          2066  GAMINIT
00001CBE                          2067  ; INITIALIZE GAME
00001CBE                          2068  ; INPUT     : NONE
00001CBE                          2069  ; OUTPUT    : NONE
00001CBE                          2070  ; MODIFIES  : NONE
00001CBE                          2071  ; ------------------------------------------------------------------------------
00001CBE  4EB8 1000               2072              JSR     DMMINIT
00001CC2                 FALSE    2073              IFNE    ATRSAVE
00001CC2                          2074              ENDC
00001CC2  4EB8 15C6               2075              JSR     SHPINIT
00001CC6  6080                    2076              BRA     SCOINIT
00001CC8                          2077          
00001CC8                          2078  ; ------------------------------------------------------------------------------
00001CC8                          2079  GAMUPD
00001CC8                          2080  ; UPDATES THE GAME
00001CC8                          2081  ; INPUT     : NONE
00001CC8                          2082  ; OUTPUT    : NONE
00001CC8                          2083  ; MODIFIES  : NONE
00001CC8                          2084  ; ------------------------------------------------------------------------------                       
00001CC8                 FALSE    2085              IFNE    ATRSAVE
00001CC8                          2086              ENDC
00001CC8  4EB8 11D4               2087              JSR     AGLUPD
00001CCC  4EB8 1A58               2088              JSR     SPWUPD
00001CD0  4EB8 15D0               2089              JSR     SHPUPD
00001CD4                          2090              
00001CD4                          2091              ; CHECK VICTORY
00001CD4  0C79 001E 00002788      2092              CMP.W   #SCODSTMX,(SCODST)
00001CDC  6D00 000E               2093              BLT     .CHKLOSS
00001CE0  33FC 0003 0000279A      2094              MOVE.W  #STAWIN,(STANEXT)
00001CE8  6000 002E               2095              BRA     .DONE
00001CEC                          2096              
00001CEC                          2097              ; CHECK DEFEAT BC OF BEING HIT
00001CEC  0C79 000A 0000278A      2098  .CHKLOSS    CMP.W   #SCOHITMX,(SCOHIT)
00001CF4  6D00 000E               2099              BLT     .CHKENEL
00001CF8  33FC 0004 0000279A      2100              MOVE.W  #STAGOV1,(STANEXT)
00001D00  6000 0016               2101              BRA     .DONE
00001D04                          2102              
00001D04                          2103              ; CHECK DEFEAT BC OF ENEMY CROSSING THE LINE
00001D04  0C79 0001 0000278C      2104  .CHKENEL    CMP.W   #SCOENEMX,(SCOENE)
00001D0C  6D00 000A               2105              BLT     .DONE
00001D10  33FC 0005 0000279A      2106              MOVE.W  #STAGOV2,(STANEXT)
00001D18                          2107              
00001D18  4E75                    2108  .DONE       RTS
00001D1A                          2109          
00001D1A                          2110  ; ------------------------------------------------------------------------------
00001D1A                          2111  GAMPLOT
00001D1A                          2112  ; PLOTS THE GAME
00001D1A                          2113  ; INPUT     : NONE
00001D1A                          2114  ; OUTPUT    : NONE
00001D1A                          2115  ; MODIFIES  : NONE
00001D1A                          2116  ; ------------------------------------------------------------------------------        
00001D1A                          2117  
00001D1A  4EB8 11F8               2118              JSR     AGLPLOT
00001D1E  4EB8 1BE8               2119              JSR     SCEPLOT
00001D22  4EB8 1C1C               2120              JSR     LIMPLOT
00001D26  4EB8 1C5C               2121              JSR     SCOPLOT
00001D2A  6000 F966               2122              BRA     SHPPLOT 
00001D2E                          2123              
00001D2E                          2124         
00001D2E                          2125  
00001D2E                          2126  
00001D2E                          2127  
00001D2E                          2128  
00001D2E                          2129  
00001D2E                          2130  
00001D2E                          2131  
00001D2E                          2132  
00001D2E                          2133  
00001D2E                          2134  
00001D2E                          2135  
00001D2E                          2136  
00001D2E                          2137  
00001D2E                          2138  
00001D2E                          2139  
00001D2E                          2140  
00001D2E                          2141  -------------------- end include --------------------
00001D2E                          2142              INCLUDE "INTRO.X68"
00001D2E                          2143  ; ==============================================================================
00001D2E                          2144  ; INTRO SCREEN MANAGEMENT
00001D2E                          2145  ; ==============================================================================
00001D2E                          2146      
00001D2E                          2147  ; ------------------------------------------------------------------------------
00001D2E                          2148  ISCINIT
00001D2E                          2149  ; INITIALIZE INTRO SCREEN
00001D2E                          2150  ; INPUT     : NONE
00001D2E                          2151  ; OUTPUT    : NONE
00001D2E                          2152  ; MODIFIES  : NONE
00001D2E                          2153  ; ------------------------------------------------------------------------------
00001D2E  4EB8 1000               2154              JSR     DMMINIT
00001D32  4279 0000278E           2155              CLR.W   (ISCTIMER)
00001D38  4279 000027A0           2156              CLR.W   (SCRINTCT)
00001D3E  4E75                    2157              RTS
00001D40                          2158          
00001D40                          2159  ; ------------------------------------------------------------------------------
00001D40                          2160  ISCUPD
00001D40                          2161  ; UPDATES THE INTRO SCREEN
00001D40                          2162  ; INPUT     : NONE
00001D40                          2163  ; OUTPUT    : NONE
00001D40                          2164  ; MODIFIES  : NONE
00001D40                          2165  ; ------------------------------------------------------------------------------
00001D40  48E7 8070               2166              MOVEM.L D0/A1-A3,-(A7)
00001D44                          2167              
00001D44  0839 0004 0000279F      2168              BTST.B  #4,(KBDEDGE)
00001D4C  6700 000A               2169              BEQ     .CONT
00001D50  33FC 0002 0000279A      2170              MOVE.W  #STAGAM,(STANEXT)
00001D58                          2171              
00001D58  5279 0000278E           2172  .CONT       ADDQ.W  #1,(ISCTIMER)
00001D5E  0C79 01F4 0000278E      2173              CMP.W   #ISCMAXTM,(ISCTIMER)
00001D66  6D00 000A               2174              BLT     .DONE
00001D6A  33FC 0001 0000279A      2175              MOVE.W  #STAINS,(STANEXT)            
00001D72                          2176              
00001D72                          2177              ; INTRO SHOT AGENT CREATOR
00001D72  1039 000027A1           2178  .DONE       MOVE.B  (SCRCYCCT),D0
00001D78  C03C 001F               2179              AND.B   #%00011111,D0
00001D7C  6600 0016               2180              BNE     .GOUPD
00001D80                          2181              
00001D80  43F8 1528               2182              LEA     ISTINIT,A1
00001D84  45F8 1540               2183              LEA     ISTUPD,A2
00001D88  47F8 1572               2184              LEA     ISTPLOT,A3
00001D8C  303C 0003               2185              MOVE.W  #3,D0
00001D90  4EB8 11BA               2186              JSR     AGLADD
00001D94                          2187         
00001D94  4EB8 11D4               2188  .GOUPD      JSR     AGLUPD
00001D98  4CDF 0E01               2189              MOVEM.L (A7)+,D0/A1-A3
00001D9C  4E75                    2190              RTS
00001D9E                          2191          
00001D9E                          2192  ; ------------------------------------------------------------------------------
00001D9E                          2193  ISCPLOT
00001D9E                          2194  ; PLOTS THE INTRO SCREEN
00001D9E                          2195  ; INPUT     : NONE
00001D9E                          2196  ; OUTPUT    : NONE
00001D9E                          2197  ; MODIFIES  : NONE
00001D9E                          2198  ; ------------------------------------------------------------------------------
00001D9E  4EB8 11F8               2199              JSR     AGLPLOT
00001DA2  4EB8 171A               2200              JSR     ISHPLOT        
00001DA6  48E7 C080               2201              MOVEM.L D0-D1/A0,-(A7)
00001DAA                          2202              
00001DAA  4281                    2203              CLR.L   D1
00001DAC  103C 0051               2204              MOVE.B  #81,D0
00001DB0  4E4F                    2205              TRAP    #15
00001DB2                          2206              
00001DB2  41F9 00001DE0           2207              LEA     .TXT1,A0
00001DB8  103C 000A               2208              MOVE.B  #10,D0
00001DBC  4EB8 1268               2209              JSR     UTLPRINT
00001DC0                          2210              
00001DC0  0839 0004 000027A1      2211              BTST.B  #4,(SCRCYCCT)
00001DC8  6700 0010               2212              BEQ     .DONE
00001DCC                          2213              
00001DCC  41F9 00001DF3           2214              LEA     .TXT2,A0
00001DD2  103C 0019               2215              MOVE.B  #25,D0
00001DD6  4EB8 1268               2216              JSR     UTLPRINT
00001DDA                          2217              
00001DDA                          2218              
00001DDA                          2219              
00001DDA  4CDF 0103               2220  .DONE       MOVEM.L (A7)+,D0-D1/A0
00001DDE                          2221  
00001DDE  4E75                    2222              RTS
00001DE0= 53 50 41 43 45 20 ...   2223  .TXT1       DC.B    'SPACE SHIPS MASTER',0
00001DF3= 50 52 45 53 53 20 ...   2224  .TXT2       DC.B    'PRESS SPACE TO START',0
00001E08                          2225              DS.W    0
00001E08                          2226  
00001E08                          2227  
00001E08                          2228  
00001E08                          2229  
00001E08                          2230  
00001E08                          2231  
00001E08                          2232  
00001E08                          2233  
00001E08                          2234  
00001E08                          2235  
00001E08                          2236  
00001E08                          2237  -------------------- end include --------------------
00001E08                          2238              INCLUDE "INSTRUCTIONS.X68"
00001E08                          2239  ; ==============================================================================
00001E08                          2240  ; INSTRUCTIONS SCREEN MANAGEMENT
00001E08                          2241  ; ==============================================================================
00001E08                          2242      
00001E08                          2243  ; ------------------------------------------------------------------------------
00001E08                          2244  INSINIT
00001E08                          2245  ; INITIALIZE INSTRUCTIONS SCREEN
00001E08                          2246  ; INPUT     : NONE
00001E08                          2247  ; OUTPUT    : NONE
00001E08                          2248  ; MODIFIES  : NONE
00001E08                          2249  ; ------------------------------------------------------------------------------
00001E08  4EB8 1000               2250              JSR     DMMINIT
00001E0C  4279 00002796           2251              CLR.W   (INSTIMER)
00001E12  4E75                    2252              RTS
00001E14                          2253          
00001E14                          2254  ; ------------------------------------------------------------------------------
00001E14                          2255  INSUPD
00001E14                          2256  ; UPDATES THE INSTRUCTIONS SCREEN
00001E14                          2257  ; INPUT     : NONE
00001E14                          2258  ; OUTPUT    : NONE
00001E14                          2259  ; MODIFIES  : NONE
00001E14                          2260  ; ------------------------------------------------------------------------------
00001E14  0839 0004 0000279F      2261              BTST.B #4,(KBDEDGE)
00001E1C  6700 0008               2262              BEQ     .CONT
00001E20  4279 0000279A           2263              CLR.W   (STANEXT)
00001E26  5279 00002796           2264  .CONT       ADDQ.W  #1,(INSTIMER)
00001E2C  0C79 0190 00002796      2265              CMP.W   #INSMAXTM,(INSTIMER)
00001E34  6D00 000A               2266              BLT     .DONE
00001E38  33FC 0006 0000279A      2267              MOVE.W  #STAATR,(STANEXT)                   
00001E40  4E75                    2268  .DONE       RTS
00001E42                          2269          
00001E42                          2270  ; ------------------------------------------------------------------------------
00001E42                          2271  INSPLOT
00001E42                          2272  ; PLOTS THE INSTRUCTIONS SCREEN
00001E42                          2273  ; INPUT     : NONE
00001E42                          2274  ; OUTPUT    : NONE
00001E42                          2275  ; MODIFIES  : NONE
00001E42                          2276  ; ------------------------------------------------------------------------------        
00001E42                          2277  
00001E42  48E7 C0C0               2278              MOVEM.L D0-D1/A0-A1,-(A7)
00001E46  4201                    2279              CLR.B   D1
00001E48  103C 0051               2280              MOVE.B  #81,D0
00001E4C  4E4F                    2281              TRAP    #15
00001E4E  103C 000D               2282              MOVE.B  #13,D0
00001E52  43F9 00001F1E           2283              LEA     .TXTLST,A1
00001E58  2219                    2284  .LOOP       MOVE.L  (A1)+,D1
00001E5A  6700 000A               2285              BEQ     .DONE
00001E5E  2041                    2286              MOVE.L  D1,A0
00001E60  4EB8 1268               2287              JSR     UTLPRINT
00001E64  60F2                    2288              BRA     .LOOP
00001E66  4CDF 0303               2289  .DONE       MOVEM.L (A7)+,D0-D1/A0-A1            
00001E6A                          2290  
00001E6A  4E75                    2291              RTS
00001E6C= 44 4F 20 59 4F 55 ...   2292  .TXT1       DC.B    'DO YOU WANNA BE THE SPACE SHIPS MASTER?',0
00001E94= 4D 4F 56 45 20 54 ...   2293  .TXT2       DC.B    'MOVE THE SHIP USING LEFT AND RIGHT KEYS',0
00001EBC= 53 48 4F 4F 54 20 ...   2294  .TXT3       DC.B    'SHOOT USING YOUR SPACE BAR',0
00001ED7= 44 4F 20 4E 4F 54 ...   2295  .TXT4       DC.B    'DO NOT MISS YOUR SHOTS AND DO NOT GET HIT!!',0
00001F03= 57 41 49 54 20 54 ...   2296  .TXT5       DC.B    'WAIT TO SEE A GAME EXAMPLE',0
00001F1E                          2297              DS.W    0
00001F1E= 00001E6C 00001E94 ...   2298  .TXTLST     DC.L    .TXT1,.TXT2,.TXT3,.TXT4,.TXT5,0
00001F36                          2299  
00001F36                          2300  
00001F36                          2301  
00001F36                          2302  
00001F36                          2303  
00001F36                          2304  
00001F36                          2305  
00001F36                          2306  
00001F36                          2307  
00001F36                          2308  
00001F36                          2309              
00001F36                          2310  
00001F36                          2311  
00001F36                          2312  -------------------- end include --------------------
00001F36                          2313              INCLUDE "WIN.X68"
00001F36                          2314  ; ==============================================================================
00001F36                          2315  ; WIN SCREEN MANAGEMENT
00001F36                          2316  ; ==============================================================================
00001F36                          2317      
00001F36                          2318  ; ------------------------------------------------------------------------------
00001F36                          2319  WININIT
00001F36                          2320  ; INITIALIZE WIN SCREEN
00001F36                          2321  ; INPUT     : NONE
00001F36                          2322  ; OUTPUT    : NONE
00001F36                          2323  ; MODIFIES  : NONE
00001F36                          2324  ; ------------------------------------------------------------------------------
00001F36  4EB8 1000               2325              JSR     DMMINIT
00001F3A  4E75                    2326              RTS
00001F3C                          2327          
00001F3C                          2328  ; ------------------------------------------------------------------------------
00001F3C                          2329  WINUPD
00001F3C                          2330  ; UPDATES THE WIN SCREEN
00001F3C                          2331  ; INPUT     : NONE
00001F3C                          2332  ; OUTPUT    : NONE
00001F3C                          2333  ; MODIFIES  : NONE
00001F3C                          2334  ; ------------------------------------------------------------------------------
00001F3C  0839 0004 0000279F      2335              BTST.B  #4,(KBDEDGE)
00001F44  6700 0008               2336              BEQ     .CONT
00001F48  4279 0000279A           2337              CLR.W   (STANEXT)
00001F4E  4E75                    2338  .CONT       RTS
00001F50                          2339          
00001F50                          2340  ; ------------------------------------------------------------------------------
00001F50                          2341  WINPLOT
00001F50                          2342  ; PLOTS THE WIN SCREEN
00001F50                          2343  ; INPUT     : NONE
00001F50                          2344  ; OUTPUT    : NONE
00001F50                          2345  ; MODIFIES  : NONE
00001F50                          2346  ; ------------------------------------------------------------------------------        
00001F50                          2347  
00001F50  48E7 C080               2348              MOVEM.L D0-D1/A0,-(A7)
00001F54                          2349              
00001F54  4281                    2350              CLR.L   D1
00001F56  103C 0051               2351              MOVE.B  #81,D0
00001F5A  4E4F                    2352              TRAP    #15
00001F5C                          2353              
00001F5C  41F9 00001F94           2354              LEA     .TXT1,A0
00001F62  103C 000A               2355              MOVE.B  #10,D0
00001F66  4EB8 1268               2356              JSR     UTLPRINT
00001F6A  41F9 00001FB3           2357              LEA     .TXT2,A0
00001F70  4EB8 1268               2358              JSR     UTLPRINT
00001F74                          2359              
00001F74  0839 0004 000027A1      2360              BTST.B  #4,(SCRCYCCT)
00001F7C  6700 0010               2361              BEQ     .DONE
00001F80                          2362              
00001F80  41F9 00001FCC           2363              LEA     .TXT3,A0
00001F86  103C 0019               2364              MOVE.B  #25,D0
00001F8A  4EB8 1268               2365              JSR     UTLPRINT
00001F8E                          2366              
00001F8E                          2367              
00001F8E                          2368              
00001F8E  4CDF 0103               2369  .DONE       MOVEM.L (A7)+,D0-D1/A0
00001F92                          2370  
00001F92  4E75                    2371              RTS
00001F94= 59 4F 55 20 41 52 ...   2372  .TXT1       DC.B    'YOU ARE THE SPACE SHIPS MASTER',0
00001FB3= 43 4F 4E 47 52 41 ...   2373  .TXT2       DC.B    'CONGRATULATIONS. YOU WON',0
00001FCC= 50 52 45 53 53 20 ...   2374  .TXT3       DC.B    'PRESS SPACE TO START',0
00001FE2                          2375              DS.W    0
00001FE2                          2376  
00001FE2                          2377  
00001FE2                          2378  
00001FE2                          2379  
00001FE2                          2380  
00001FE2                          2381  
00001FE2                          2382  
00001FE2                          2383  
00001FE2                          2384  
00001FE2                          2385  
00001FE2                          2386              
00001FE2                          2387  -------------------- end include --------------------
00001FE2                          2388              INCLUDE "GOVER1.X68"
00001FE2                          2389  ; ==============================================================================
00001FE2                          2390  ; GAME OVER SCREEN 1 MANAGEMENT
00001FE2                          2391  ; ==============================================================================
00001FE2                          2392      
00001FE2                          2393  ; ------------------------------------------------------------------------------
00001FE2                          2394  GOV1INIT
00001FE2                          2395  ; INITIALIZE GAME OVER SCREEN
00001FE2                          2396  ; INPUT     : NONE
00001FE2                          2397  ; OUTPUT    : NONE
00001FE2                          2398  ; MODIFIES  : NONE
00001FE2                          2399  ; ------------------------------------------------------------------------------
00001FE2  4EB8 1000               2400              JSR     DMMINIT
00001FE6  4E75                    2401              RTS
00001FE8                          2402          
00001FE8                          2403  ; ------------------------------------------------------------------------------
00001FE8                          2404  GOV1UPD
00001FE8                          2405  ; UPDATES THE GAME OVER SCREEN
00001FE8                          2406  ; INPUT     : NONE
00001FE8                          2407  ; OUTPUT    : NONE
00001FE8                          2408  ; MODIFIES  : NONE
00001FE8                          2409  ; ------------------------------------------------------------------------------
00001FE8  0839 0004 0000279F      2410              BTST.B  #4,(KBDEDGE)
00001FF0  6700 0008               2411              BEQ     .CONT
00001FF4  4279 0000279A           2412              CLR.W   (STANEXT)
00001FFA  4E75                    2413  .CONT       RTS
00001FFC                          2414          
00001FFC                          2415  ; ------------------------------------------------------------------------------
00001FFC                          2416  GOV1PLOT
00001FFC                          2417  ; PLOTS THE GAME OVER SCREEN
00001FFC                          2418  ; INPUT     : NONE
00001FFC                          2419  ; OUTPUT    : NONE
00001FFC                          2420  ; MODIFIES  : NONE
00001FFC                          2421  ; ------------------------------------------------------------------------------        
00001FFC                          2422  
00001FFC  48E7 C080               2423              MOVEM.L D0-D1/A0,-(A7)
00002000                          2424              
00002000  4281                    2425              CLR.L   D1
00002002  103C 0051               2426              MOVE.B  #81,D0
00002006  4E4F                    2427              TRAP    #15
00002008                          2428              
00002008  41F9 00002040           2429              LEA     .TXT1,A0
0000200E  103C 000A               2430              MOVE.B  #10,D0
00002012  4EB8 1268               2431              JSR     UTLPRINT
00002016  41F9 0000204A           2432              LEA     .TXT2,A0
0000201C  4EB8 1268               2433              JSR     UTLPRINT
00002020                          2434              
00002020  0839 0004 000027A1      2435              BTST.B  #4,(SCRCYCCT)
00002028  6700 0010               2436              BEQ     .DONE
0000202C                          2437              
0000202C  41F9 0000206A           2438              LEA     .TXT3,A0
00002032  103C 0019               2439              MOVE.B  #25,D0
00002036  4EB8 1268               2440              JSR     UTLPRINT
0000203A                          2441              
0000203A                          2442              
0000203A                          2443              
0000203A  4CDF 0103               2444  .DONE       MOVEM.L (A7)+,D0-D1/A0
0000203E                          2445  
0000203E  4E75                    2446              RTS
00002040= 47 41 4D 45 20 4F ...   2447  .TXT1       DC.B    'GAME OVER',0
0000204A= 59 4F 55 20 48 41 ...   2448  .TXT2       DC.B    'YOU HAVE GOT HIT TOO MANY TIMES',0
0000206A= 50 52 45 53 53 20 ...   2449  .TXT3       DC.B    'PRESS SPACE TO CONTINUE',0
00002082                          2450              DS.W    0
00002082                          2451  
00002082                          2452  
00002082                          2453  
00002082                          2454  
00002082                          2455  
00002082                          2456  
00002082                          2457  
00002082                          2458  
00002082                          2459  
00002082                          2460  
00002082                          2461              
00002082                          2462  -------------------- end include --------------------
00002082                          2463              INCLUDE "GOVER2.X68"
00002082                          2464  ; ==============================================================================
00002082                          2465  ; GAME OVER SCREEN 2 MANAGEMENT
00002082                          2466  ; ==============================================================================
00002082                          2467      
00002082                          2468  ; ------------------------------------------------------------------------------
00002082                          2469  GOV2INIT
00002082                          2470  ; INITIALIZE GAME OVER SCREEN
00002082                          2471  ; INPUT     : NONE
00002082                          2472  ; OUTPUT    : NONE
00002082                          2473  ; MODIFIES  : NONE
00002082                          2474  ; ------------------------------------------------------------------------------
00002082  4EB8 1000               2475              JSR     DMMINIT
00002086  4E75                    2476              RTS
00002088                          2477          
00002088                          2478  ; ------------------------------------------------------------------------------
00002088                          2479  GOV2UPD
00002088                          2480  ; UPDATES THE GAME OVER SCREEN
00002088                          2481  ; INPUT     : NONE
00002088                          2482  ; OUTPUT    : NONE
00002088                          2483  ; MODIFIES  : NONE
00002088                          2484  ; ------------------------------------------------------------------------------
00002088  0839 0004 0000279F      2485              BTST.B  #4,(KBDEDGE)
00002090  6700 0008               2486              BEQ     .CONT
00002094  4279 0000279A           2487              CLR.W   (STANEXT)
0000209A  4E75                    2488  .CONT       RTS
0000209C                          2489          
0000209C                          2490  ; ------------------------------------------------------------------------------
0000209C                          2491  GOV2PLOT
0000209C                          2492  ; PLOTS THE GAME OVER SCREEN
0000209C                          2493  ; INPUT     : NONE
0000209C                          2494  ; OUTPUT    : NONE
0000209C                          2495  ; MODIFIES  : NONE
0000209C                          2496  ; ------------------------------------------------------------------------------        
0000209C                          2497  
0000209C  48E7 C080               2498              MOVEM.L D0-D1/A0,-(A7)
000020A0                          2499              
000020A0  4281                    2500              CLR.L   D1
000020A2  103C 0051               2501              MOVE.B  #81,D0
000020A6  4E4F                    2502              TRAP    #15
000020A8                          2503              
000020A8  41F9 000020E0           2504              LEA     .TXT1,A0
000020AE  103C 000A               2505              MOVE.B  #10,D0
000020B2  4EB8 1268               2506              JSR     UTLPRINT
000020B6  41F9 000020EA           2507              LEA     .TXT2,A0
000020BC  4EB8 1268               2508              JSR     UTLPRINT
000020C0                          2509              
000020C0  0839 0004 000027A1      2510              BTST.B  #4,(SCRCYCCT)
000020C8  6700 0010               2511              BEQ     .DONE
000020CC                          2512              
000020CC  41F9 00002104           2513              LEA     .TXT3,A0
000020D2  103C 0019               2514              MOVE.B  #25,D0
000020D6  4EB8 1268               2515              JSR     UTLPRINT
000020DA                          2516              
000020DA                          2517              
000020DA                          2518              
000020DA  4CDF 0103               2519  .DONE       MOVEM.L (A7)+,D0-D1/A0
000020DE                          2520  
000020DE  4E75                    2521              RTS
000020E0= 47 41 4D 45 20 4F ...   2522  .TXT1       DC.B    'GAME OVER',0
000020EA= 41 4E 20 45 4E 45 ...   2523  .TXT2       DC.B    'AN ENEMY CROSSED THE LINE',0
00002104= 50 52 45 53 53 20 ...   2524  .TXT3       DC.B    'PRESS SPACE TO CONTINUE',0
0000211C                          2525              DS.W    0
0000211C                          2526  
0000211C                          2527  
0000211C                          2528  
0000211C                          2529  
0000211C                          2530  
0000211C                          2531  
0000211C                          2532  
0000211C                          2533  
0000211C                          2534  
0000211C                          2535  
0000211C                          2536              
0000211C                          2537  -------------------- end include --------------------
0000211C                          2538              INCLUDE "ATTRACT.X68"
0000211C                          2539  ; =============================================================================
0000211C                          2540  ; ATTRACT MODE MANAGEMENT
0000211C                          2541  ;
0000211C                          2542  ; TO RECORD A GAME:
0000211C                          2543  ; * SET ATRSAVE TO 1 (SEE CONST.X68)
0000211C                          2544  ; * PLAY A GAME NORMALLY WITHOUT GAME OVER NOR VICTORY.
0000211C                          2545  ; * PRESS FIRE3 (SHIFT) TO RECORD SHOWING TEXT. NOTE THAT TEXTS MUST BE
0000211C                          2546  ;   PREDEFINED. SEE STRPAGAT IN STRDATA.X68.
0000211C                          2547  ; * PRESS FIRE2 (M) TO END RECORDING.
0000211C                          2548  ; * THIS WILL GENERATE A BINARY FILE DATA/KEYSTROK.DAT. WARNING: IF IT ALREADY
0000211C                          2549  ;   EXISTS, IT WILL BE OVERWRITTEN. WARNING: THE DATA FOLDER MUST EXIST.
0000211C                          2550  ; * NOTE THAT PRESSING FIRE2 (M) TWICE OR MORE MAY PRODUCE A WRONG KEYSTROK.DAT
0000211C                          2551  ;
0000211C                          2552  ; TO ACTIVATE ATTRACT MODE (SEE THE RECORDED GAME)
0000211C                          2553  ; * SET ATRSAVE TO 0 (SEE CONST.X68)
0000211C                          2554  ; * JUST WAIT IN THE INTRO SCREEN.
0000211C                          2555  ;
0000211C                          2556  ; NOTE 1:
0000211C                          2557  ; THE RECORDED DATA IS JUST A RLE ENCODED LIST OF KEYSTROKES. EVERY ITEM IN THE
0000211C                          2558  ; LIST IS A LONG CONTAINING:
0000211C                          2559  ; * HIGH WORD: HIGH BYTE -> RECORDED KBDEDGE. LOW BYTE -> RECORDED KBDVAL
0000211C                          2560  ; * LOW WORD : NUMBER OF TIMES THE SAME KBDEDGE,KBDVAL IS REPEADED.
0000211C                          2561  ; PLEASE NOTE THAT MORE THAN 65535 REPETITIONS ARE NOT ALLOWED. THUS, DO NOT
0000211C                          2562  ; RECORD A GAME IN WHICH YOU ARE MORE THAN APPROX. 20 MINUTES WITH THE SAME
0000211C                          2563  ; KEYS PRESSED.
0000211C                          2564  ; THE LIST TERMINATOR IS $FFFFFFFF
0000211C                          2565  ;
0000211C                          2566  ; NOTE 3:
0000211C                          2567  ; ATTRACT MODE IS BASICALLY LIKE NORMAL GAME EXCEPT THAT (KBDVAL) AND (KBDEDGE)
0000211C                          2568  ; ARE OVERWRITTEN. TAKE INTO ACCOUNT THAT IN A REAL COMPUTER THIS WOULD BE
0000211C                          2569  ; NOT POSSIBLE, SINCE KBDVAL AND KBDEDGE ARE SYSTEM VARIABLES AND A USER CODE
0000211C                          2570  ; CANNOT OVERWRITE THEM. IN THIS CASE, THE SOLUTION WOULD BE SIMPLE: JUST
0000211C                          2571  ; AFTER READING KBDVAL AND KBDEDGE THEY COULD BE COPIED INTO USER MEMORY AND
0000211C                          2572  ; USE THESE COPIES INSTEAD OF THE ORIGINAL VALUES.
0000211C                          2573  ;
0000211C                          2574  ; NOTE 3:
0000211C                          2575  ; PLEASE, DO NOT WATCH THE RECORDED GAME WITH ATRSAVE=1. THIS MAY LEAD TO
0000211C                          2576  ; INCONSISTENCIES AND UNEXPECTED BEHAVIOR MAY HAPPEN.
0000211C                          2577  ;
0000211C                          2578  ; NOTE 4:
0000211C                          2579  ; PLEASE NOTE THAT THE OPTION TO RECORD THE GAME IS PROVIDED ONLY FOR THE SAKE
0000211C                          2580  ; OF COMPLETENESS. AN ACTUAL GAME WOULD NOT PROVIDE THAT OPTION, THAT IS WHY
0000211C                          2581  ; ACTIVATING RECORDING CAN ONLY BE DONE AT ASSEMBLY TIME.
0000211C                          2582  ; =============================================================================
0000211C                          2583  
0000211C                          2584  ; -----------------------------------------------------------------------------
0000211C                          2585  ATRINIT
0000211C                          2586  ; INITALIZES THE ATTRACT MODE MANAGER
0000211C                          2587  ; INPUT    - NONE
0000211C                          2588  ; OUTPUT   - NONE
0000211C                          2589  ; MODIFIES - NONE
0000211C                          2590  ; -----------------------------------------------------------------------------
0000211C  4EB8 121E               2591              JSR     UTLINIT                 ; INITIALIZE RANDOMNESS
00002120                 FALSE    2592              IFNE    ATRSAVE
00002120                          2593              ENDC
00002120                 TRUE     2594              IFEQ    ATRSAVE
00002120  23FC 0000229A 00002790  2595              MOVE.L  #ATRDATA-4,(ATRPTR)
0000212A  4279 00002794           2596              CLR.W   (ATRCTR)
00002130  4E75                    2597              RTS
00002132                          2598              ENDC
00002132                          2599  
00002132                          2600  ; -----------------------------------------------------------------------------
00002132                          2601  ATRUPD
00002132                          2602  ; ATTRACT MODE UPDATE
00002132                          2603  ; INPUT    - NONE
00002132                          2604  ; OUTPUT   - NONE
00002132                          2605  ; MODIFIES - NONE
00002132                          2606  ; -----------------------------------------------------------------------------
00002132                          2607  
00002132                          2608  ; --- CONDITIONALLY ASSEMBLED CODE TO RECORD A GAME ---------------------------
00002132                          2609  ; RECORDS A LIST OF KEYSTROKES (KBDVAL AND KBDEDGE), COMPRESSES THEM IN RLE
00002132                          2610  ; AND, WHEN FIRE2 IS PRESSED, SAVES THEM IN THE BINARY FILE KEYSTROK.DAT
00002132                          2611  
00002132                 FALSE    2612              IFNE    ATRSAVE
00002132                          2613              ENDC
00002132                          2614  
00002132                          2615  ; --- CONDITIONALLY ASSEMBLED CODE TO PLAY A RECORDED GAME --------------------
00002132                          2616  ; READS KEYSTROK.DAT AND OVERWRITES KBDVAL AND KBDEDGE ACCORDINGLY.
00002132                          2617  
00002132                 TRUE     2618              IFEQ    ATRSAVE
00002132  48E7 C080               2619              MOVEM.L D0-D1/A0,-(A7)
00002136  2039 00002790           2620              MOVE.L  (ATRPTR),D0
0000213C  2040                    2621              MOVE.L  D0,A0                   ; POINTER
0000213E  3039 00002794           2622              MOVE.W  (ATRCTR),D0             ; GET COUNTER
00002144  6600 002E               2623              BNE     .SUBSTR                 ; NOT ENDED: DECREASE COUNTER
00002148  5888                    2624              ADD.L   #4,A0                   ; ENDED: NEXT ITEM
0000214A  2010                    2625              MOVE.L  (A0),D0                 ; GET ITEM
0000214C  13FC 0010 0000279F      2626              MOVE.B  #%00010000,(KBDEDGE)    ; PROPOSE TERMINATION
00002154  13FC 0010 0000279E      2627              MOVE.B  #%00010000,(KBDVAL)
0000215C  B0BC FFFFFFFF           2628              CMP.L   #$FFFFFFFF,D0           ; LAST ONE?
00002162  6700 0028               2629              BEQ     .END
00002166  33C0 00002794           2630              MOVE.W  D0,(ATRCTR)             ; STORE COUNTER
0000216C  2008                    2631              MOVE.L  A0,D0
0000216E  23C0 00002790           2632              MOVE.L  D0,(ATRPTR)
00002174  5379 00002794           2633  .SUBSTR     SUBQ.W  #1,(ATRCTR)             ; DECREASE COUNTER
0000217A  2010                    2634              MOVE.L  (A0),D0                 ; GET ITEM
0000217C  4840                    2635              SWAP    D0
0000217E  13C0 0000279E           2636              MOVE.B  D0,(KBDVAL)
00002184  E058                    2637              ROR.W   #8,D0
00002186  13C0 0000279F           2638              MOVE.B  D0,(KBDEDGE)
0000218C  4CDF 0103               2639  .END        MOVEM.L (A7)+,D0-D1/A0
00002190  4E75                    2640              RTS
00002192                          2641              ENDC
00002192                          2642  
00002192                          2643  
00002192                          2644  
00002192                          2645  
00002192                          2646  
00002192                          2647  
00002192                          2648  -------------------- end include --------------------
00002192                          2649              INCLUDE "STATES.X68"
00002192                          2650  ; ==============================================================================
00002192                          2651  ; GAME STATE MANAGEMENT
00002192                          2652  ; ==============================================================================
00002192                          2653      
00002192                          2654  ; ------------------------------------------------------------------------------
00002192                          2655  STAINIT
00002192                          2656  ; INITIALIZE STATE MANAGER
00002192                          2657  ; INPUT     : NONE
00002192                          2658  ; OUTPUT    : NONE
00002192                          2659  ; MODIFIES  : NONE
00002192                          2660  ; ------------------------------------------------------------------------------
00002192  33FC FFFF 00002798      2661              MOVE.W  #STANONE,(STACUR)
0000219A  4279 0000279A           2662              CLR.W   (STANEXT)
000021A0  4E75                    2663              RTS
000021A2                          2664          
000021A2                          2665  ; ------------------------------------------------------------------------------
000021A2                          2666  STAUPD
000021A2                          2667  ; PERFORMS STATE UPDATE AND INIT IF NECESSARY
000021A2                          2668  ; INPUT     : NONE
000021A2                          2669  ; OUTPUT    : NONE
000021A2                          2670  ; MODIFIES  : NONE
000021A2                          2671  ; ------------------------------------------------------------------------------
000021A2  48E7 8080               2672              MOVEM.L D0/A0,-(A7)
000021A6  4280                    2673              CLR.L   D0
000021A8  3039 0000279A           2674              MOVE.W  (STANEXT),D0
000021AE  B079 00002798           2675              CMP.W   (STACUR),D0
000021B4  6700 0012               2676              BEQ     .DOUPD
000021B8  33C0 00002798           2677              MOVE.W  D0,(STACUR)             ; IF STATE CHANGED, DO INIT
000021BE  E588                    2678              LSL.L   #2,D0
000021C0  2040                    2679              MOVE.L  D0,A0
000021C2  2068 21E0               2680              MOVE.L  .INITBL(A0),A0
000021C6  4E90                    2681              JSR     (A0)
000021C8  4280                    2682  .DOUPD      CLR.L   D0                      ; IN ANY CASE, DO UPDATE
000021CA  3039 00002798           2683              MOVE.W  (STACUR),D0
000021D0  E588                    2684              LSL.L   #2,D0
000021D2  2040                    2685              MOVE.L  D0,A0
000021D4  2068 21FC               2686              MOVE.L  .UPDTBL(A0),A0
000021D8  4E90                    2687              JSR     (A0)
000021DA  4CDF 0101               2688              MOVEM.L (A7)+,D0/A0
000021DE  4E75                    2689              RTS
000021E0= 00001D2E 00001E08 ...   2690  .INITBL     DC.L    ISCINIT,INSINIT,GAMINIT,WININIT,GOV1INIT,GOV2INIT,STAATRI
000021FC= 00001D40 00001E14 ...   2691  .UPDTBL     DC.L    ISCUPD,INSUPD,GAMUPD,WINUPD,GOV1UPD,GOV2UPD,STAATRU
00002218                          2692          
00002218                          2693  ; ------------------------------------------------------------------------------
00002218                          2694  STAPLOT
00002218                          2695  ; PERFORMS STATE PLOT
00002218                          2696  ; INPUT     : NONE
00002218                          2697  ; OUTPUT    : NONE
00002218                          2698  ; MODIFIES  : NONE
00002218                          2699  ; ------------------------------------------------------------------------------        
00002218  48E7 8080               2700              MOVEM.L D0/A0,-(A7)
0000221C  4280                    2701              CLR.L   D0
0000221E  3039 00002798           2702              MOVE.W  (STACUR),D0
00002224  E588                    2703              LSL.L   #2,D0
00002226  2040                    2704              MOVE.L  D0,A0
00002228  2068 2234               2705              MOVE.L  .PLTTBL(A0),A0
0000222C  4E90                    2706              JSR     (A0)
0000222E  4CDF 0101               2707              MOVEM.L (A7)+,D0/A0
00002232  4E75                    2708              RTS
00002234= 00001D9E 00001E42 ...   2709  .PLTTBL     DC.L    ISCPLOT,INSPLOT,GAMPLOT,WINPLOT,GOV1PLOT,GOV2PLOT,STAATRP
00002250                          2710  
00002250                          2711  ; ------------------------------------------------------------------------------
00002250                          2712  STAEMPTY
00002250                          2713  ; EMPTY SUBROUTINE FOR CASES WITH NOTHING TO DO
00002250                          2714  ; INPUT     : NONE
00002250                          2715  ; OUTPUT    : NONE
00002250                          2716  ; MODIFIES  : NONE
00002250                          2717  ; ------------------------------------------------------------------------------ 
00002250  4E75                    2718              RTS
00002252                          2719              
00002252                          2720  ; -----------------------------------------------------------------------------
00002252                          2721  STAATRI
00002252                          2722  ; ATTRACT MODE INIT
00002252                          2723  ; INPUT    - NONE
00002252                          2724  ; OUTPUT   - NONE
00002252                          2725  ; MODIFIES - NONE
00002252                          2726  ; -----------------------------------------------------------------------------
00002252  4EB8 1000               2727              JSR     DMMINIT
00002256                 TRUE     2728              IFEQ    ATRSAVE
00002256  4EB8 211C               2729              JSR     ATRINIT                 ; ONLY IN ATTRACT PLAY MODE
0000225A                          2730              ENDC
0000225A  4EB8 15C6               2731              JSR     SHPINIT
0000225E  6000 F9E8               2732              BRA     SCOINIT
00002262  4E75                    2733              RTS
00002264                          2734  
00002264                          2735  ; -----------------------------------------------------------------------------
00002264                          2736  STAATRU
00002264                          2737  ; ATTRACT MODE UPDATE
00002264                          2738  ; INPUT    - NONE
00002264                          2739  ; OUTPUT   - NONE
00002264                          2740  ; MODIFIES - NONE
00002264                          2741  ; -----------------------------------------------------------------------------
00002264  0839 0004 0000279F      2742              BTST    #4,(KBDEDGE)            ; CHECK USER INITIATED EXIT
0000226C  6600 0022               2743              BNE     .EXIT
00002270                 TRUE     2744              IFEQ    ATRSAVE
00002270  4EB8 2132               2745              JSR     ATRUPD                  ; ONLY IN ATTRACT PLAY MODE
00002274                          2746              ENDC
00002274  0839 0004 0000279F      2747              BTST    #4,(KBDEDGE)            ; CHECK END OF RECORD
0000227C  6600 0012               2748              BNE     .EXIT
00002280  4EB8 11D4               2749              JSR     AGLUPD
00002284  4EB8 1AB4               2750              JSR     SPWAUPD
00002288  4EB8 15D0               2751              JSR     SHPUPD
0000228C  6000 000A               2752              BRA     .END
00002290  33FC 0000 0000279A      2753  .EXIT       MOVE.W  #STAISC,(STANEXT)
00002298  4E75                    2754  .END        RTS
0000229A                          2755  
0000229A                          2756  ; -----------------------------------------------------------------------------
0000229A                          2757  STAATRP
0000229A                          2758  ; ATTRACT MODE PLOT
0000229A                          2759  ; INPUT    - NONE
0000229A                          2760  ; OUTPUT   - NONE
0000229A                          2761  ; MODIFIES - NONE
0000229A                          2762  ; -----------------------------------------------------------------------------
0000229A  6000 FA7E               2763              BRA     GAMPLOT                 ; PLOT GAME
0000229E                          2764  
0000229E                          2765  
0000229E                          2766  
0000229E                          2767  
0000229E                          2768  
0000229E                          2769  
0000229E                          2770  
0000229E                          2771  
0000229E                          2772  
0000229E                          2773  -------------------- end include --------------------
0000229E                          2774              
0000229E                          2775  ; --- DATA INCLUDES ------------------------------------------------------------
0000229E                          2776  
0000229E                 TRUE     2777              IFEQ    ATRSAVE
0000229E                          2778  ATRDATA     INCBIN  'DATA/KEYSTROK.DAT'         ; RECORDED DATA
00002752                          2779              DS.W    0
00002752                          2780              ENDC
00002752                          2781            
00002752                          2782              
00002752                          2783              
00002752                          2784  START
00002752                          2785  
00002752                          2786  ; --- INITIALIZATION -----------------------------------------------------------
00002752                          2787  
00002752  007C 0700               2788              ORI.W   #$0700,SR
00002756  4EB8 10C2               2789              JSR     SYSINIT
0000275A  4EB8 121E               2790              JSR     UTLINIT
0000275E  4EB8 2192               2791              JSR     STAINIT
00002762                          2792              
00002762                          2793              
00002762                          2794  .LOOP
00002762                          2795  
00002762                          2796  ; --- UPDATE -------------------------------------------------------------------
00002762                          2797  
00002762                          2798  ; READ INPUT DEVICES
00002762                          2799  
00002762  4E41                    2800              TRAP    #KBDUPTN
00002764                          2801              
00002764                          2802  ; UPDATE GAME LOGIC
00002764                          2803  
00002764  4EB8 21A2               2804              JSR     STAUPD
00002768                          2805              
00002768                          2806  ; --- SYNC ---------------------------------------------------------------------
00002768                          2807  
00002768  4A39 000027A0           2808  .WINT       TST.B   (SCRINTCT)
0000276E  67F8                    2809              BEQ     .WINT
00002770  4239 000027A0           2810              CLR.B   (SCRINTCT)
00002776                          2811              
00002776                          2812  ; --- PLOT ---------------------------------------------------------------------
00002776                          2813  
00002776  4EB8 2218               2814              JSR     STAPLOT
0000277A                          2815              
0000277A  4E40                    2816              TRAP    #SCRUPTN                ; UPDATE DOUBLE BUFFER
0000277C                          2817              
0000277C  60E4                    2818              BRA     .LOOP
0000277E                          2819  
0000277E  FFFF FFFF               2820              SIMHALT
00002782                          2821              
00002782                          2822              INCLUDE "VARS.X68"
00002782                          2823  ; ==============================================================================
00002782                          2824  ; GAME VARIABLES
00002782                          2825  ; ==============================================================================
00002782                          2826      
00002782                          2827  ; --- SHIP RELATED VARIABLES ---------------------------------------------------
00002782                          2828  
00002782                          2829  SHPPOSX     DS.W    1                   ; SHIP X COORDINATE
00002784                          2830  
00002784                          2831  ; --- EXPLOSION RELATED VARIABLES ----------------------------------------------
00002784                          2832  
00002784                          2833  EXPRAD      DS.W    1                   ; EXPLOSION RADIUS
00002786                          2834  LEXPRAD     DS.W    1                   ; LITTLE EXPLOSION RADIUS
00002788                          2835  
00002788                          2836  ; --- SCOREBOARD RELATED VARIABLES ---------------------------------------------
00002788                          2837  
00002788                          2838  SCODST      DS.W    1                   ; NUMBER OF SHIPS DESTROYED
0000278A                          2839  SCOHIT      DS.W    1                   ; NUMBER OF TIMES YOU GET HIT
0000278C                          2840  SCOENE      DS.W    1                   ; NUMBER OF TIMES AN ENEMY CROSSES
0000278E                          2841                                          ; THE LINE
0000278E                          2842                                          
0000278E                          2843  ; --- INTRO STATE RELATED VARIABLES --------------------------------------------
0000278E                          2844  
0000278E                          2845  ISCTIMER    DS.W    1                   ; INTRO TIMER
00002790                          2846  
00002790                          2847  ; --- ATTRACT MODE RELATED VARIABLES -------------------------------------------
00002790                          2848  
00002790                          2849  ATRPTR      DS.L    1                   ; POINTER TO CURRENT KEYSTROKE
00002794                          2850  ATRCTR      DS.W    1                   ; ATTRACT MODE COUNTER
00002796                          2851  
00002796                          2852  ; --- INSTRUCTIONS STATE RELATED VARIABLES -------------------------------------
00002796                          2853  
00002796                          2854  INSTIMER    DS.W    1                   ; INSTRUCTIONS TIMER
00002798                          2855  
00002798                          2856  ; --- STATE RELATED VARIABLES --------------------------------------------------
00002798                          2857  
00002798                          2858  STACUR      DS.W    1                   ; CURRENT STATE
0000279A                          2859  STANEXT     DS.W    1                   ; NEXT STATE
0000279C                          2860  
0000279C                          2861  
0000279C                          2862  
0000279C                          2863  
0000279C                          2864  
0000279C                          2865  
0000279C                          2866  
0000279C                          2867  
0000279C                          2868  
0000279C                          2869  
0000279C                          2870  
0000279C                          2871  
0000279C                          2872  
0000279C                          2873  
0000279C                          2874  
0000279C                          2875  -------------------- end include --------------------
0000279C                          2876              INCLUDE "LIB/UTLVARS.X68"
0000279C                          2877  ; =============================================================================
0000279C                          2878  ; UTILITY VARIABLES
0000279C                          2879  ; =============================================================================
0000279C                          2880  
0000279C                          2881  UTLRNDIX    DS.B    1                       ; NEXT INDEX TO RANDOM NUMBER
0000279E                          2882              DS.W    0
0000279E                          2883  -------------------- end include --------------------
0000279E                          2884              INCLUDE "SYSVARS.X68"
0000279E                          2885  ; ==============================================================================
0000279E                          2886  ; SYSTEM VARIABLES
0000279E                          2887  ; ==============================================================================
0000279E                          2888              
0000279E                          2889  ; --- KEYBOARD RELATED VARIABLES -----------------------------------------------
0000279E                          2890  
0000279E                          2891  KBDVAL      DS.B    1                       ; KEY STATE
0000279F                          2892  KBDEDGE     DS.B    1                       ; KEY EDGE
000027A0                          2893  
000027A0                          2894  ; --- TIMED INTERRUPT RELATED VARIABLES ----------------------------------------
000027A0                          2895  
000027A0                          2896  SCRINTCT    DS.B    1                       ; INTERRUPT COUNTER
000027A1                          2897  SCRCYCCT    DS.B    1                       ; CYCLE COUNTER
000027A2                          2898              DS.W    0
000027A2                          2899  
000027A2                          2900  
000027A2                          2901  
000027A2                          2902  
000027A2                          2903  
000027A2                          2904  -------------------- end include --------------------
000027A2                          2905              INCLUDE "LIB/DMMVARS.X68"
000027A2                          2906  ; =============================================================================
000027A2                          2907  ; DYNAMIC MEMORY MANAGEMENT VARIABLES (SYSTEM VARIABLES)
000027A2                          2908  ; =============================================================================
000027A2                          2909  
000027C0                          2910              ORG     (*+DMMBSIZE-1)&-DMMBSIZE ; ALIGN TO DMMBSIZE
000027C0                          2911  DMMDATA     DS.B    DMMBSIZE*DMMBNUM        ; DYNAMIC MEMORY ALLOCATION SPACE
00003440                          2912              DS.W    0                       ; JUST IN CASE (SIZE IS POW OF TWO)
00003440                          2913  -------------------- end include --------------------
00003440                          2914  
00003440                          2915              END     START

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
AGLADD              11BA
AGLADD:END          11D0
AGLKILL             10AC
AGLPLOT             11F8
AGLPLOT:END         1218
AGLPLOT:LOOP        1200
AGLUPD              11D4
AGLUPD:END          11F2
AGLUPD:LOOP         11DC
ATRCTR              2794
ATRDATA             229E
ATRINIT             211C
ATRPTR              2790
ATRSAVE             0
ATRUPD              2132
ATRUPD:END          218C
ATRUPD:SUBSTR       2174
DMMALLOC            1092
DMMALLOC:END        10AA
DMMBNUM             32
DMMBSIZE            40
DMMDATA             27C0
DMMFCOM             106C
DMMFFND             107A
DMMFIRST            1022
DMMFLOOP            1060
DMMFRCOM            1034
DMMFREE             10AC
DMMFRFND            1042
DMMFRLOP            1028
DMMFRSTO            105A
DMMINIT             1000
DMMINIT:LOOP        100E
DMMNEXT             1044
DMMNEXTO            107C
DMMSYSID            0
ENEAGN              3
ENEAINIT            1908
ENEAPLOT            19B0
ENEAUPD             1920
ENEAUPD:COLLFT      1968
ENEAUPD:COLRGT      195C
ENEAUPD:DONE        1974
ENEAUPD:NOFIRE      19AA
ENEAXPLO            1A28
ENEDSPD             1
ENEFCOL             EEEEEE
ENEHEIGH            A
ENEHSPD             3
ENEINIT             1798
ENEINIT:VELVEC      17C8
ENEPCOL             EEEEEE
ENEPLOT             1860
ENEUPD              17D0
ENEUPD:COLLFT       1818
ENEUPD:COLRGT       180C
ENEUPD:DONE         1824
ENEUPD:NOFIRE       185A
ENEWIDTH            32
ENEXPLO             18D8
ESHAGN              2
ESHINIT             147C
ESHPLOT             14EC
ESHUPD              148C
ESHUPD:CHKSHP       14AC
ESHUPD:COLBOT       14A4
ESHUPD:DONE         14E0
ESHUPD:ISPOS        14B8
ESHUPD:ISPOS2       14CE
EXPAGN              4
EXPFCOL             11FF
EXPINIT             1B10
EXPMXRAD            F
EXPPCOL             11FF
EXPPLOT             1B52
EXPRAD              2784
EXPUPD              1B30
EXPUPD:END          1B50
EXPUPD:KILL         1B4C
GAMINIT             1CBE
GAMPLOT             1D1A
GAMUPD              1CC8
GAMUPD:CHKENEL      1D04
GAMUPD:CHKLOSS      1CEC
GAMUPD:DONE         1D18
GOV1INIT            1FE2
GOV1PLOT            1FFC
GOV1PLOT:DONE       203A
GOV1PLOT:TXT1       2040
GOV1PLOT:TXT2       204A
GOV1PLOT:TXT3       206A
GOV1UPD             1FE8
GOV1UPD:CONT        1FFA
GOV2INIT            2082
GOV2PLOT            209C
GOV2PLOT:DONE       20DA
GOV2PLOT:TXT1       20E0
GOV2PLOT:TXT2       20EA
GOV2PLOT:TXT3       2104
GOV2UPD             2088
GOV2UPD:CONT        209A
INSINIT             1E08
INSMAXTM            190
INSPLOT             1E42
INSPLOT:DONE        1E66
INSPLOT:LOOP        1E58
INSPLOT:TXT1        1E6C
INSPLOT:TXT2        1E94
INSPLOT:TXT3        1EBC
INSPLOT:TXT4        1ED7
INSPLOT:TXT5        1F03
INSPLOT:TXTLST      1F1E
INSTIMER            2796
INSUPD              1E14
INSUPD:CONT         1E26
INSUPD:DONE         1E40
ISCINIT             1D2E
ISCMAXTM            1F4
ISCPLOT             1D9E
ISCPLOT:DONE        1DDA
ISCPLOT:TXT1        1DE0
ISCPLOT:TXT2        1DF3
ISCTIMER            278E
ISCUPD              1D40
ISCUPD:CONT         1D58
ISCUPD:DONE         1D72
ISCUPD:GOUPD        1D94
ISHFCOL             D3D3D3
ISHHEIGH            3C
ISHINIT             1716
ISHPCOL             D3D3D3
ISHPLOT             171A
ISHPOSX             140
ISHPOSY             FA
ISHUPD              1718
ISHWIDTH            12C
ISTINIT             1528
ISTPLOT             1572
ISTUPD              1540
ISTUPD:COLTOP       155C
ISTUPD:DONE         1564
KBDDOWN             28
KBDEDGE             279F
KBDFIRE1            20
KBDFIRE2            4D
KBDFIRE3            10
KBDINIT             115E
KBDLEFT             25
KBDPAUSE            50
KBDRIGHT            27
KBDUP               26
KBDUPD              116C
KBDUPD:LOOP         11B0
KBDUPD:PACK         11AC
KBDUPTN             1
KBDVAL              279E
LEXPFCOL            66FF
LEXPRAD             2786
LIMHEIGH            1
LIMPCOL             FF
LIMPLOT             1C1C
LIMPOSX             0
LIMPOSY             190
LIMWIDTH            280
SCENMB              32
SCEPCOL             888888
SCEPLOT             1BE8
SCEPLOT:LOOP        1BFA
SCODST              2788
SCODSTMX            1E
SCODSTSL            A
SCODSTTL            14
SCOENE              278C
SCOENEMX            1
SCOFCOL             0
SCOHIT              278A
SCOHITMX            A
SCOINIT             1C48
SCOLINE1            101
SCOLINE2            102
SCOPLOT             1C5C
SCOPLOT:TXT1        1CAA
SCOPLOT:TXT2        1CB4
SCRCYCCT            27A1
SCRFPS              32
SCRHEIGH            1E0
SCRINIT             10F2
SCRINTCT            27A0
SCRINTN             1
SCRPLOT             1136
SCRTIM              1150
SCRUPTN             0
SCRWIDTH            280
SHPFCOL             D3D3D3
SHPHEIGH            14
SHPINIT             15C6
SHPPCOL             D3D3D3
SHPPLOT             1692
SHPPOSX             2782
SHPPOSY             1AE
SHPSPEED            A
SHPUPD              15D0
SHPUPD:CHKRGT       15E8
SHPUPD:CONT         15F8
SHPUPD:CONT2        1608
SHPUPD:DONE         1614
SHPUPD:END          168A
SHPUPD:FIRE         1632
SHPUPD:NOFIRE       168E
SHPUPD:ONESHT       167C
SHPWIDTH            64
SHTAGN              1
SHTFCOL             FFFF
SHTHEIGH            7
SHTINIT             13B8
SHTPCOL             FFFF
SHTPLOT             1440
SHTSPEED            3
SHTUPD              13C8
SHTUPD:END          1424
SHTUPD:EXPLO        142A
SHTUPD:LOOP         13F0
SHTWIDTH            1
SPWAUPD             1AB4
SPWAUPD:AGNT        1AF6
SPWAUPD:END         1B0A
SPWAUPD:FLEVEL      1AEE
SPWAUPD:SLEVEL      1AE2
SPWMSKFL            7F
SPWMSKSL            3F
SPWMSKTL            1F
SPWUPD              1A58
SPWUPD:AGNT         1A9A
SPWUPD:END          1AAE
SPWUPD:FLEVEL       1A92
SPWUPD:SLEVEL       1A86
STAATR              6
STAATRI             2252
STAATRP             229A
STAATRU             2264
STAATRU:END         2298
STAATRU:EXIT        2290
STACUR              2798
STAEMPTY            2250
STAGAM              2
STAGOV1             4
STAGOV2             5
STAINIT             2192
STAINS              1
STAISC              0
STANEXT             279A
STANONE             FFFFFFFF
STAPLOT             2218
STAPLOT:PLTTBL      2234
START               2752
START:LOOP          2762
START:WINT          2768
STAUPD              21A2
STAUPD:DOUPD        21C8
STAUPD:INITBL       21E0
STAUPD:UPDTBL       21FC
STAWIN              3
SYSINIT             10C2
UTLCHCOL            1234
UTLCHCOL:END        1262
UTLCHCOL:NOCOL      1260
UTLCHRWD            8
UTLINIT             121E
UTLPRINT            1268
UTLPRINT:ENDLOOP    127A
UTLPRINT:LOOP       1270
UTLRAND             129A
UTLRAND:RANDVEC     12B8
UTLRNDIX            279C
WININIT             1F36
WINPLOT             1F50
WINPLOT:DONE        1F8E
WINPLOT:TXT1        1F94
WINPLOT:TXT2        1FB3
WINPLOT:TXT3        1FCC
WINUPD              1F3C
WINUPD:CONT         1F4E
